(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{226:function(t,e,n){"use strict";n(166),n(20),n(72),n(96),n(167),n(21),n(19),n(15),n(22),n(38),n(24),n(46),Object.defineProperty(e,"__esModule",{value:!0}),e.BoldChatAI=void 0,n(170),n(34),n(101);var a,o=(a=n(47))&&a.__esModule?a:{default:a};function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var a,o,r=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return r}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.constructor===Object&&"en"===window.lp_langcode&&!1!=!!fetch&&(this.configs=[{id:"1426556581",iframeIdentifier:"NANOREP",source:"https://cdn.lmiutil.com/lpassets/boldchat-ai.1.5.html"}],this.boldChat={chatHTML:function(t){return'<div class="lp-boldchat" data-state=\'idle\'>\n          <div class="lp-boldchat__spacer"></div>\n          <div class="lp-boldchat__icon" data-action="activate"></div>\n          <div class="lp-boldchat__controls">\n            <span class="lp-boldchat__controls--close" data-action="close"></span>\n            <span class="lp-boldchat__controls--minimize" data-action="minimize"></span>\n            <span class="lp-boldchat__controls--expand" data-action="expand"></span>\n          </div>\n          <a class="lp-boldchat__privacy-policy" href="https://www.logmeininc.com/legal/privacy" target="_blank">Privacy Policy</a>\n          '.concat(t,"\n        </div>")},promptHTML:'<div class="lp-boldchat__prompt">\n        <span>Hi, I\'m Ruben. Questions?</span>\n        <span>Click here to chat now!</span>\n        <span class="arrow"></span>\n      </div>',promptState:sessionStorage.getItem("boldChatPrompt"),targetOrigin:"https://cdn.lmiutil.com",chatState:"idle"},this.setConfig(e),this.activate())}var e,n,a;return e=t,(n=[{key:"setConfig",value:function(t){t.hasOwnProperty("source")&&t.hasOwnProperty("id")&&t.envs.some((function(t){return t===o.default.getEnv()}))&&this.configs.push(t),this.currentConfig=this.configs.pop()}},{key:"activate",value:function(){this.insertChat(),this.postToIFrame(),this.runListeners()}},{key:"insertChat",value:function(){var t=this.boldChat.chatHTML;document.body.insertAdjacentHTML("afterbegin",t(this.createChatbotIframe())),this.boldChat=h(h({},this.boldChat),{},{container:document.querySelector(".lp-boldchat"),icon:document.querySelector(".lp-boldchat__icon"),controls:document.querySelector(".lp-boldchat__controls"),iframe:document.querySelector("#boldchat-ai")})}},{key:"createChatbotIframe",value:function(){var t=this.currentConfig.source;if(new RegExp(/^(https:\/\/cdn.lmiutil.com)/).test(t))return'<iframe id="boldchat-ai" sandbox="allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox" width="'.concat(80,'" height="').concat(80,'" src="').concat(t,'"></iframe>')}},{key:"postToIFrame",value:function(){var t=this,e=this.boldChat,n=e.iframe,a=e.targetOrigin,o=e.container,r=e.promptHTML,i=e.promptState,c=this.currentConfig,s=c.id,l=c.iframeIdentifier,d={id:s,message:"loadChat",parentUrl:window.location.href};n.addEventListener("load",(function(){n.contentWindow.postMessage(d,a),t.sendGAChatData("chat-loaded"),"NANOREP"===l&&null===o.querySelector(".lp-boldchat__prompt")&&"closed"!==i&&setTimeout((function(){return o.insertAdjacentHTML("afterbegin",r)}),3e3)}))}},{key:"runListeners",value:function(){var t=this,e=this.boldChat.targetOrigin,n=this.currentConfig.iframeIdentifier;window.addEventListener("message",(function(a){var o,r,i="",c="",s="",d="";if(a.origin===e){if("object"===l(a.data)){var h=a.data;i=h.uid,c=h.message,s=h.category,d=h.action,o=h.width,r=h.height}if(n===i)switch(c){case void 0:t.sendGAChatData(d,s);break;case"startChat":t.showChat();break;case"userAsked":t.sendGAChatData("chat-conversation");break;case"chatSessionStarted":t.sendGAChatData("livechat-sessionstarted");break;case"chatSessionEnded":t.sendGAChatData("livechat-sessionended");break;case"proactiveRuleMatched":case"proactiveRuleClicked":t.sendGAChatData(d,s);break;case"proactiveResizeIframe":t.setIframeDimensions(o,r)}}})),this.boldChat.container.addEventListener("click",(function(e){t.handleControls(e),t.exitPrompt(e)}))}},{key:"sendGAChatData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"chat-ai",n=document.location.href;return ga("send","event",e,t,n,{nonInteraction:!0})}},{key:"changeStateTo",value:function(t){var e=this.boldChat,n=e.container;"expanded"===e.chatState&&"idle"!==t&&(t="active"),this.boldChat.chatState=t,n.dataset.state=t}},{key:"handleControls",value:function(t){var e,n,a=this,o=this.boldChat,c=o.controls,s=o.container,l=o.iframe,d=o.icon,h=this.currentConfig.iframeIdentifier,f=i([].concat(r(c.children),[d]).map((function(t){return t.dataset.action})),4),p=f[0],m=f[1],b=f[2],y=f[3];(u(e={},p,(function(){a.exitPrompt(t),"NANOREP"===h?(l.remove(),s.insertAdjacentHTML("beforeend",a.createChatbotIframe()),a.boldChat.iframe=s.querySelector("#boldchat-ai"),a.postToIFrame(),a.changeStateTo("idle")):a.changeStateTo("minimized"),a.sendGAChatData("chat-closed")})),u(e,m,(function(){a.changeStateTo("minimized"),a.sendGAChatData("chat-collapsed")})),u(e,b,(function(){a.changeStateTo("expanded"),a.sendGAChatData("chat-expanded")})),u(e,y,(function(){a.changeStateTo("active"),a.sendGAChatData("chat-opened")})),n=e,function(t){return n.hasOwnProperty(t)&&n[t]()})(t.target.dataset.action)}},{key:"showChat",value:function(){var t=this,e=this.boldChat.iframe;e.width=0,e.height=0,this.sendGAChatData("chat-opened"),setTimeout((function(){t.setIframeDimensions(400,580),t.changeStateTo("active")}),500)}},{key:"setIframeDimensions",value:function(t,e){var n=this.boldChat.iframe,a=window.innerHeight,o=window.innerWidth;n.width=t,n.height=e,o<=n.width&&(n.width=.9*o),a<Number(n.height)+58&&(n.height=a-68)}},{key:"exitPrompt",value:function(t){var e=this.boldChat.container.querySelector(".lp-boldchat__prompt");if(e){var n=e.clientWidth;"close"==t.target.dataset.action?(e.remove(),sessionStorage.setItem("boldChatPrompt","closed"),this.boldChat.promptState=sessionStorage.getItem("boldChatPrompt")):t.offsetY>0&&t.offsetY<26&&t.offsetX>n-25&&t.offsetX<n&&(ga("send","event","chat-ai","chat-prompt-dismissed",window.location.href,{nonInteraction:!0}),e.remove(),sessionStorage.setItem("boldChatPrompt","closed"),this.boldChat.promptState=sessionStorage.getItem("boldChatPrompt"))}}}])&&f(e.prototype,n),a&&f(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.BoldChatAI=p}}]);
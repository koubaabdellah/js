/*! sdp-prototypes 1.80.0 2022090120f9b809da 267c3328b0819963ac24290706f15773 */
webpackJsonp([6],{GTHu:function(e,t){},I8Xe:function(e,t){},KanN:function(e,t,a){"use strict";var n=a("SpGf"),o=a("b9XL");a("1nHC"),a("aGSB"),a("kzOy"),a("d93j"),a("MlTh"),a("TT/v"),a("A+FC"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,l,u=n(a("3dLy")),d=n(a("0fcM")),s=n(a("P8NW")),c=n(a("E7HD")),f=n(a("d4H2")),p=n(a("0421")),m=n(a("UJE0")),v=n(a("IxO8")),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=i?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("1n8/")),h=n(a("9qb7")),g=n(a("6G51")),b=n(a("2tAt")),_=n(a("fkUE")),P=a("pjdA"),T=n(a("sVsf")),E=n(a("XleV")),C=n(a("TM12")),O=n(a("AmE+")),S=n(a("6H2J")),I=n(a("pvec"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}a("brk0"),a("xzzO");var A=(0,g.default)(i=(0,b.default)((l=r=function(e){(0,f.default)(a,e);var t=M(a);function a(e){var n;(0,d.default)(this,a),n=t.call(this,e),(0,v.default)((0,c.default)(n),"onVideoLoad",function(e){"function"==typeof e.persist&&e.persist();var t=(0,c.default)(n),a=t.constructor,o=t.props.onLoad,i=a.getContainerClientWidth(n.__container.current),r=a.getContainerClientHeight(n.__container.current),l={containerClientWidth:i};n.setState(l),"function"==typeof o&&o(e);var u={bubbles:!0,detail:{container:{target:n.__container.current,aspectRatio:i/r,width:i,height:r},media:a.getMediaDimensionsFromEvent(e)}},d=new CustomEvent("onAlfaDisplayMediaVideoLoad",u);e.target.dispatchEvent(d)}),(0,v.default)((0,c.default)(n),"onVideoEnd",function(e){var t=(0,c.default)(n),a=t.constructor,o=t.props.onEnd;"function"==typeof o&&o(e);var i=a.getContainerClientWidth(n.__container.current),r=a.getContainerClientHeight(n.__container.current),l={bubbles:!0,detail:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach(function(t){(0,v.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e.detail||{},{container:{target:n.__container.current,aspectRatio:i/r,width:i,height:r},media:a.getMediaDimensionsFromEvent(e)})},u=new CustomEvent("onAlfaDisplayMediaVideoEnd",l);e.target.dispatchEvent(u)}),(0,v.default)((0,c.default)(n),"onImgLoad",function(e){"function"==typeof e.persist&&e.persist();var t,a,o=(0,c.default)(n),i=o.constructor,r=o.props,l=e.target.offsetWidth,u=r.height,d=r.onLoad,s=i.getContainerClientWidth(n.__container.current),f=i.getContainerClientHeight(n.__container.current),p={containerClientWidth:s,imageLoaded:!0};l>568&&(t=!0,l>768&&(a=!0),Object.assign(p,{lgImg:t,fullImg:a})),n.setState(p),"function"==typeof d&&d(e);var m={bubbles:!0,detail:{container:{target:n.__container.current,aspectRatio:s/f,width:s,height:f},media:i.getMediaDimensionsFromEvent(e)}},v=new CustomEvent("onAlfaDisplayMediaImgLoad",m);if(e.target.dispatchEvent(v),u&&n.__imageContainer&&n.constructor.iE11){var y="url(".concat(n.getImagePath(),")");n.__imageContainer.style.backgroundImage=y}}),(0,v.default)((0,c.default)(n),"getImagePath",function(){var e,t=(0,c.default)(n),a=t.constructor,o=t.props,i=t.state,r=o.mediaType,l=o.media,u=i.desktop,d=i.tablet,s=i.mobile;if("image"===r){var f=l.mediaAsset.image,p=f.xs,m=f.sm,v=f.md,y=f.lg;e=y&&u?a.getImage(y):v&&(d||u)?a.getImage(v):m&&!s?a.getImage(m):a.getImage(p)}return e}),(0,v.default)((0,c.default)(n),"renderDisclosure",function(){var e=(0,c.default)(n),t=e.props,a=e.state,o=t.media,i=t.useDisclosureBar,r=t.disclosureTextAlignment,l=t.disclosureTextLineWidth,u=a.hasAlfaQvDiscBar,d=a.disableDiscBarLineupCarousel,s=o.disclosure?o.disclosure.disclosureColor:"";return"light"===s?s="white":"dark"===s&&(s="black"),o.disclosure&&y.default.createElement("div",null,!i&&!u||d?y.default.createElement("div",{className:"disclosure-bubble"},y.default.createElement(E.default,null,o.disclosure.disclosureText)):y.default.createElement(C.default,{children:o.disclosure.disclosureText,disclosureTextAlignment:r,disclosureTextLineWidth:l}))}),(0,v.default)((0,c.default)(n),"renderCTA",function(){var e=n.props.media;return e.mediaCTA&&y.default.createElement("div",{className:(0,h.default)("cta-container",{"cta-overlay":"overlay"===e.mediaCTA.type}),ref:function(e){return n.__ctaContainer=e,e}},y.default.createElement(S.default,e.mediaCTA))}),(0,v.default)((0,c.default)(n),"renderImage",function(e){var t,a=n.props,o=a.media,i=a.isLazy,r=a.imageRatio,l=a.showLoader,d=a.lazyOffset;return y.default.createElement(O.default,(0,u.default)({},null===o||void 0===o?void 0:null===(t=o.mediaAsset)||void 0===t?void 0:t.image,{onLoad:n.onImgLoad,stretch:!1,imageRatio:r,showLoader:l,isLazy:i,lazyOffset:d,useOnScreenLazyLoader:!0,cropMediaStyle:e||void 0}))}),n.state={lgImg:!1,fullImg:!1,containerClientWidth:0,imageLoaded:!1,hasAlfaQvDiscBar:!1,disableDiscBarLineupCarousel:!1};var o=380;n.__container=(0,y.createRef)(),"undefined"!=typeof document&&"ramtrucks"===_.default.getBrand()&&(o=640);var i={name:"disclosureTextMinImageWidth",value:o};return Object.defineProperty((0,c.default)(n),i.name,{get:function(){return i.value}}),n}return(0,s.default)(a,[{key:"componentDidMount",value:function(){var e,t=this;if(null!==(null===(e=this.__container)||void 0===e?void 0:e.current)){var a=[".qv-media-block",".lineup-carousel-container"].find(function(e){var a=t.__container.current.closest(e),n=a&&a.getAttribute("data-use-disclosureBar");return JSON.parse(n)});a&&this.setState({hasAlfaQvDiscBar:a});var n;[".lineup-carousel-col"].forEach(function(e){var a=t.__container.current.closest(e);n=a&&a.getAttribute("data-disable-lineup-disclosureBar")}),(n=JSON.parse(n))&&this.setState({disableDiscBarLineupCarousel:n})}}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.mobile,o=a.phablet,i=a.tablet,r=a.desktop,l=this.props,u=l.height,d=l.useDisclosureBar,s=l.media;u&&this.__imageContainer&&this.constructor.iE11&&(n!==t.mobile||o!==t.phablet||i!==t.tablet||r!==t.desktop)&&(this.__imageContainer.style.backgroundImage="url(".concat(this.getImagePath(),")"));var c=s.mediaCTA&&"overlay"===s.mediaCTA.type;if(!r&&d&&c){var f=this.__container.current.querySelector(".disclosure-bar").offsetHeight;this.__ctaContainer.querySelector(".isMediaDetailCta").style.bottom="".concat(f,"px")}}},{key:"render",value:function(){var e=this,t=this.props,a=t.autoHeight,n=t.mediaType,o=t.media,i=t.height,r=t.isLazy,l=t.lazyOffset,u=t.isInCarousel,d=t.transcriptButton,s=t.uniqueId,c=t.useDisclosureBar,f=t.disclosureBarLayout,p=o.mediaCTA&&"overlay"===o.mediaCTA.type,m=this.state,v=m.imageLoaded,g=m.hasAlfaQvDiscBar,b=m.mobile,_=m.disableDiscBarLineupCarousel,T=function(){if(i&&v){var t={},a=o.transformOriginX,n=o.transformOriginY;a=(0,P.stringToNumber)(a,!0),n=(0,P.stringToNumber)(n,!0),a=isNaN(a)?"":"".concat(a,"%"),n=isNaN(n)?"":"".concat(n,"%");var r="".concat(a," ").concat(n);return t.height="undefined"!=typeof document?i:"auto",e.constructor.iE11||(t.height="100%"!==i&&"500px"!==i?i:""),r&&(e.constructor.iE11?t.backgroundPosition=r:t.objectPosition=r),t}}(),E=c?"alfa-display-media-container disclosure-bar-container":"alfa-display-media-container";return y.default.createElement("div",{className:(0,h.default)(E,{"overlay-cta":p}),"data-fe-id":"Alfa/AlfaDisplayMedia",ref:this.__container},"image"===n&&(T&&this.constructor.iE11?y.default.createElement("div",{className:"crop-media",ref:function(t){return e.__imageContainer=t,t},style:T},y.default.createElement("div",{style:v?{visibility:"hidden"}:{}},this.renderImage())):T?this.renderImage(T):this.renderImage()),"passive video"===n&&y.default.createElement(I.default,{className:(0,h.default)({"dynamic-height":i}),autoHeight:a,height:i,media:o,onEnd:this.onVideoEnd,onLoad:this.onVideoLoad,isLazy:r,lazyOffset:l,uniqueId:s,isInCarousel:u,transcriptButton:d}),y.default.createElement("div",{className:(0,h.default)("cta-disclosure-bar",{"has-cta-overlay":p,"no-cta-overlay":!p,"no-cta":!o.mediaCTA,"disc-bar":(c||g)&&!_,"disclosure-below":(c||g)&&"belowImage"===f&&!p},o.disclosure&&o.disclosure.disclosureAlignment)},this.renderDisclosure(),!b&&this.renderCTA()),b&&this.renderCTA())}}],[{key:"getContainerClientWidth",value:function(e){var t=0;if("undefined"!=typeof document&&e instanceof HTMLElement&&!(t=e.clientWidth)){var a=e.cloneNode();a.setAttribute("style","visibility: hidden !important; height: 0 !important"),document.body.appendChild(a),t=a.clientWidth,document.body.removeChild(a)}return t}},{key:"getContainerClientHeight",value:function(e){var t=0;if("undefined"!=typeof document&&e instanceof HTMLElement&&!(t=e.clientHeight)){var a=e.cloneNode();a.setAttribute("style","visibility: hidden !important; width: 0 !important"),document.body.appendChild(a),t=a.clientHeight,document.body.removeChild(a)}return t}},{key:"getImage",value:function(e){return e instanceof Array?e.length>1&&(0,T.default)()?e[1].trim().split(" ")[0]:e[0].trim():e.trim()}},{key:"getMediaDimensionsFromEvent",value:function(e){var t=e.target,a=t.videoWidth,n=t.videoHeight,o=t.currentSrc,i=t.width,r=t.height,l=t.src,u={};return i=i||a,r=r||n,l=l||o,Object.assign(u,{width:i,height:r,src:l,aspectRatio:i/r}),u}}]),a}(y.Component),(0,v.default)(r,"iE11",!!window&&!!window.MSInputMethodContext),i=l))||i)||i;A.defaultProps={media:{},mediaType:"image",showLoader:!1,imageRatio:16/9,touchEvents:!0,lazyOffset:400,forceDisclosureBubble:!1,isInCarousel:!1,useDisclosureBar:!1,disclosureBarLayout:"onImage",disclosureTextAlignment:"center",disclosureTextLineWidth:10};var L=A;t.default=L},pvec:function(e,t,a){"use strict";var n=a("SpGf"),o=a("b9XL");a("XwPX"),a("d93j"),a("ecHe"),a("ItbG"),a("MlTh"),a("g0xY"),a("TT/v"),a("A+FC"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,l,u=n(a("3dLy")),d=n(a("0fcM")),s=n(a("P8NW")),c=n(a("E7HD")),f=n(a("d4H2")),p=n(a("0421")),m=n(a("UJE0")),v=n(a("IxO8")),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var a=j(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=i?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("1n8/")),h=n(a("9qb7")),g=n(a("LG8Z")),b=n(a("6G51")),_=n(a("//kN")),P=n(a("sVsf")),T=n(a("/jGT")),E=n(a("wG9X")),C=n(a("6orv")),O=a("pjdA"),S=n(a("tYEZ")),I=n(a("QrbS")),w=(a("d6BU"),n(a("ERMy"))),k=n(a("1D1D")),M=n(a("KanN")),A=n(a("mzLq")),L=n(a("usq6")),D=n(a("M1yx")),V=n(a("erRR")),H=n(a("jztF"));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(j=function(e){return e?a:t})(e)}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach(function(t){(0,v.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return(0,p.default)(this,a)}}a("I8Xe");var x=(0,g.default)(i=(0,b.default)((l=r=function(e){(0,f.default)(a,e);var t=z(a);function a(e){var n;(0,d.default)(this,a),n=t.call(this,e),(0,v.default)((0,c.default)(n),"onCanPlayThrough",function(e){(n.setState({mediaHasLoaded:!0,showReload:!1},function(){(0,c.default)(n).__globalMotionHasHalted?n.haltVideoMotion():n.state.isPaused||n.playVideo()}),e)&&(e.currentTarget.getAttribute("data-reload-show")&&window.DATALAYER.linkTrack(!0,{lid:n.props.media.lid,lpos:n.props.media.lpos,linkType:"func"}))}),(0,v.default)((0,c.default)(n),"onErrorMedia",function(e){var t=n.props.onError;"function"==typeof t&&t(e)}),(0,v.default)((0,c.default)(n),"onSpaceKeyDown",function(e){C.default.triggerButtonBySpaceBar(e)}),(0,v.default)((0,c.default)(n),"onIntersectionChangeTransitionsToggled",function(e){var t=e.detail.transitionsEnabled;n.__globalMotionHasHalted=!t,n.setStillsInterval(),t?n.resumeVideoMotion():n.haltVideoMotion()}),(0,v.default)((0,c.default)(n),"onLoadMedia",function(e){var t=(0,c.default)(n).props.onLoad;"function"==typeof t&&t(e)}),(0,v.default)((0,c.default)(n),"onNativeVideoVolumeChange",function(e){var t=e.currentTarget,a=t.muted;t.volume<=0||a?n.updateVideos({isMuted:!0}):n.updateVideos({isMuted:!1})}),(0,v.default)((0,c.default)(n),"onPlayerEnd",function(e){clearTimeout(n._onPausePlayerStateChangeTimeout),"function"==typeof e.persist&&e.persist();var t=(0,c.default)(n),a=t.__globalMotionHasHalted,o=t.props,i=t.state,r=o.onEnd,l=o.media,u=i.runnedLoopCount,d=l.loopCount;k.default.setPlayerState(!1),n.updateVideos({playerState:"ended"},function(){"function"==typeof r&&(e.detail=W({},e.detail||{},{globalMotionHasHalted:a,loopCount:d,runnedLoopCount:u,get isLooping(){return!(d<=0||(isNaN(u/d)||u-d==0))}}),r(e)),d<=0||a||n.setState({runnedLoopCount:u+1},function(){u>=d?n.setState({showReload:!0,runnedLoopCount:1}):(n.setState({showReload:!1}),n.onCanPlayThrough())})})}),(0,v.default)((0,c.default)(n),"onPlaying",function(e){var t=(0,c.default)(n).props.onPlaying;n.updateVideos({playerState:"playing"},function(){"function"==typeof t&&t(e)})}),(0,v.default)((0,c.default)(n),"onPause",function(e){var t=(0,c.default)(n).props.onPause;n._onPausePlayerStateChangeTimeout=setTimeout(function(){n.updateVideos({playerState:"paused"},function(){"function"==typeof t&&t(e)})},100)}),(0,v.default)((0,c.default)(n),"onScreen",function(e){var t=(0,c.default)(n),a=t.__mediaWrapper,o=t.state.onScrn;e.detail.ratio>0&&(n.setState({onScrn:!o}),n.constructor.OnScreen.unwatch(a),a.removeEventListener("onscreen",n.onScreen))}),(0,v.default)((0,c.default)(n),"onYouTubePlayerError",function(e){var t=(0,c.default)(n).props.onError;"function"==typeof t&&t(e)}),(0,v.default)((0,c.default)(n),"onYouTubePlayerStateChange",function(e){var t=(0,c.default)(n),a=t.props,o=t.state,i=o.youTubePlayerLoaded;if(0===e)n.setState({playerState:"ended"},function(){k.default.setPlayerState(!1)});else if(1===e)if(i)n.__globalMotionHasHalted&&n.youTubePlayer&&n.youTubePlayer.setLoop(!1).seekTo(n.youTubePlayer.duration(),!0);else{var r=a.onLoad;if("function"==typeof r)r({target:{src:n.getYouTubeVideoId(a),width:o.containerClientWidth,height:o.containerClientHeight}});n.updateVideos({playerState:"playing",youTubePlayerLoaded:!0})}else 2===e&&n.updateVideos({isPaused:!0})}),(0,v.default)((0,c.default)(n),"onTranscriptModalClose",function(){var e=n.props.transcriptButton;if(n.setState({modal:{isOpen:!1}}),e){var t=e.lpos,a=e.lid?"".concat(e.lid,"-close"):"transcript-close";window.DATALAYER&&window.DATALAYER.linkTrack(!0,{lpos:t,lid:a,linkType:"func"})}}),(0,v.default)((0,c.default)(n),"getBreakpointVideoAssetSrc",function(e){var t=((e||n.props).media||{}).mediaAsset||{};switch(b.default.getScreenSizeState().screen){case"mobile":return t.mobileVideo;case"phablet":return t.phabletVideo;case"tablet":return t.tabletVideo;case"desktop":return t.video;default:return}}),(0,v.default)((0,c.default)(n),"getYouTubeVideoId",function(e){return(((e||n.props).media||{}).mediaAsset||{}).videoId||""}),(0,v.default)((0,c.default)(n),"getIsNonDesktopYouTubeVideoEnabled",function(e){return!!(((e||n.props).media||{}).mediaAsset||{}).enableNonDesktopYouTubeVideo}),(0,v.default)((0,c.default)(n),"canPlayVideo",function(e){var t=e||n.props,a=n.getYouTubeVideoId(t),o=n.getIsNonDesktopYouTubeVideoEnabled(t),i=n.getBreakpointVideoAssetSrc(t);return!!(("desktop"===b.default.getScreenSizeState().screen||o)&&a||i)}),(0,v.default)((0,c.default)(n),"showTranscript",function(e){e.preventDefault();var t=n.props.transcriptButton;if(n.setState({modal:{isOpen:!0}}),t){var a=t.lpos,o=t.lid?"".concat(t.lid,"-open"):"transcript-open";window.DATALAYER&&window.DATALAYER.linkTrack(!0,{lpos:a,lid:o,linkType:"func"})}}),(0,v.default)((0,c.default)(n),"changeAudioControlValue",function(){n.toggleMute()}),(0,v.default)((0,c.default)(n),"changeVideoControlValue",function(e){var t=e.value;n._contextControl=t,n.togglePause()}),(0,v.default)((0,c.default)(n),"detectDevice",function(){n.setState({device:(0,_.default)()})}),(0,v.default)((0,c.default)(n),"getPosterImagePath",function(){var e,t=(0,c.default)(n),a=t.props,o=t.state,i=a.media||{},r=i.videoPosterImage,l=o.screen,u=(i.mediaAsset&&Array.isArray(i.mediaAsset.stills)?i.mediaAsset.stills:[])[0]||{},d=r||u;switch(l){case"mobile":e=d.xs;break;case"phablet":e=d.sm;break;case"tablet":e=d.md;break;case"desktop":e=d.lg}return n.constructor.getImageSrcPath(e)}),(0,v.default)((0,c.default)(n),"haltVideoMotion",function(){var e=(0,c.default)(n),t=e.__video;if(!e.state.motionHalted){if(t){var a=t.duration;t.currentTime=a}n.setState({playerState:"paused",isPaused:!0,motionHalted:!0})}}),(0,v.default)((0,c.default)(n),"handleAutoPlay",function(){var e=(0,c.default)(n),t=e.props,a=e.state,o=t.media,i=(o.mediaAsset&&Array.isArray(o.mediaAsset.stills)?o.mediaAsset.stills:[]).length,r=a.currentIndex;if(i>1&&n._isMounted){var l=r===i-1?0:r+1;n.__globalMotionHasHalted&&(l=i-1),n.setState({currentIndex:l})}}),(0,v.default)((0,c.default)(n),"handleResize",function(){clearTimeout(n._resizeCompleteTimeout),n.__container&&n.updateVideos({containerClientWidth:n.__container.clientWidth,containerClientHeight:n.__container.clientHeight}),n._resizeCompleteTimeout=setTimeout(function(){var e=(0,c.default)(n),t=e.props,a=e.state,o=(0,c.default)(n).__container,i=void 0===o?{}:o;if(i=i||{},n._isMounted){var r=a.isFirstAudio,l=a.isMuted,u=a.isPaused,d=a.motionHalted,s=a.playerState,f=n.canPlayVideo(t);n.updateVideos({motionHalted:!!f&&d,isFirstAudio:!!f&&r,isMuted:!f||l,isPaused:!!f&&u,playerState:f?s:"",containerClientWidth:i.clientWidth||0,containerClientHeight:i.clientHeight||0})}},500)}),(0,v.default)((0,c.default)(n),"initializeYouTubePlayer",function(){if(n.youTubePlayerShouldInitialize){var e=(0,c.default)(n),t=e.props,a=e.state,o=t.isLazy,i=n.getYouTubeVideoId(t),r=a.isMuted,l=a.keyId,u=a.onScrn,d={width:"100%",height:"100%",containerId:l,onPlayerError:n.onYouTubePlayerError,onPlayerStateChange:n.onYouTubePlayerStateChange,onReady:function(){n.setState({mediaHasLoaded:!0})},destroyOnEnd:!1,playerVars:{autoplay:I.default.transitionsEnabled?1:0,controls:0,disablekb:1,fs:0,iv_load_policy:3,loop:1,modestbranding:1,playsinline:1,playlist:i,rel:0,showinfo:0}},s={callbacks:{onToggleMute:function(e){n.state.isMuted!==e.isMuted&&n.updateVideos({isMuted:e.isMuted})}},muted:r},f=n.youTubePlayer=new E.default(i,d,s);(u&&o||!o)&&(f.init(),n.updateVideos({youTubePlayerInitialized:!0}))}}),(0,v.default)((0,c.default)(n),"playVideo",function(e){var t=(0,c.default)(n),a=t.__video,o=t.youTubePlayer;n.__globalMotionHasHalted=!1,e&&e.preventDefault&&e.preventDefault(),a?n.__videoPlayPromise=a.play():o&&o.play(),e&&"click"===e.type&&C.default.refocusCurrentElement()}),(0,v.default)((0,c.default)(n),"resumeVideoMotion",function(){var e=(0,c.default)(n).youTubePlayer;n.updateVideos({isPaused:!1,motionHalted:!1},function(){n.__video?n.__videoPlayPromise=n.__video.play():e&&e.setLoop(!0).play()})}),(0,v.default)((0,c.default)(n),"setStillsInterval",function(){clearInterval(n._stillsInterval);var e=(0,c.default)(n).props.media.mediaAsset.secondsPerStill||2e3;n.__globalMotionHasHalted?n.handleAutoPlay():n._stillsInterval=setInterval(function(){n.handleAutoPlay()},e)}),(0,v.default)((0,c.default)(n),"toggleMute",function(e){var t=(0,c.default)(n).state.isMuted,a=(0,c.default)(n).videoType;if(e&&e.preventDefault&&e.preventDefault(),"external"===a){var o=(0,c.default)(n).youTubePlayer;o&&(t?o.unmute():o.mute())}n.updateVideos({isMuted:!t}),e&&"click"===e.type&&C.default.refocusCurrentElement()}),(0,v.default)((0,c.default)(n),"togglePause",function(e){n.__globalMotionHasHalted=!1;var t=(0,c.default)(n).state.isPaused,a=(0,c.default)(n).videoType;if(e&&e.preventDefault&&e.preventDefault(),"external"===a){var o=(0,c.default)(n).youTubePlayer;o&&(t?o.unpause():o.pause())}else{var i=(0,c.default)(n).__video;i&&(t?n.__videoPlayPromise=i.play():(n.__videoPlayPromise||Promise.resolve()).then(function(){n.__videoPlayPromise=void 0,i.pause()}))}n.updateVideos({isPaused:!t,motionHalted:!1}),e&&"click"===e.type&&C.default.refocusCurrentElement()}),(0,v.default)((0,c.default)(n),"updateVideos",function(e,t){var a=(0,c.default)(n).state,o=void 0===a?{}:a,i=o.keyId,r=Object.assign({},o,e);r.isMuted||r.isFirstAudio||r.isPaused||(r.isFirstAudio=!0,"external"!==n.videoType&&(n.__videoPlayPromise=n.__video.play()));try{n.setState(r,t)}catch(e){}"undefined"==typeof document?k.default.updateData(Object.assign({keyId:i},r)):k.default.updateData.defer(Object.assign({keyId:i},r))}),(0,v.default)((0,c.default)(n),"renderCustomPlayerControlBar",function(){var e=(0,c.default)(n),t=e.state,a=e.props,o=a.media,i=a.transcriptButton,r=a.isInCarousel,l=o.play,d=o.pause,s=o.replay,f=o.volumeon,p=o.volumeoff,m=o.transcriptIcon,v=o.loopCount,g=o.replayIconPosition,b=i||{},_=b.ariaLabel,P=void 0===_?"Transcript":_,T=b.lpos,E=b.content,C=t.isMuted,S=t.isPaused,I=t.showReload,w=t.modal,k=n.canPlayVideo(a),M={className:(0,h.default)("alfa-video-control-bar__control toggle-pause","gcss-icon-".concat(S?l||"play-2":d||"pause")),ariaLabel:S?"Unpause":"Pause",onClick:n.togglePause,onKeyDown:n.onSpaceKeyDown,role:"button",url:"#",tabIndex:r?"-1":null,lpos:"alfa-passive-video",lid:S?"Play":"Pause"},A={className:(0,h.default)("alfa-video-control-bar__control toggle-mute","gcss-icon-".concat(C?p||"mute":f||"unmute")),ariaLabel:C?"Unmute":"Mute",onClick:n.toggleMute,onKeyDown:n.onSpaceKeyDown,role:"button",url:"#"},j={className:(0,h.default)("alfa-video-control-bar__control toggle-reload",v&&"gcss-icon-".concat(s||"replay")),ariaLabel:v?"Play":"",onClick:n.playVideo,onKeyDown:n.onSpaceKeyDown,role:"button",url:"#"},N=(0,O.guid)("alfa-passive-video--");return S&&(M["data-is-paused"]=""),C&&(A["data-is-muted"]=""),v&&(j["data-is-reload"]="",j["data-reload-show"]=!0),y.default.createElement("div",{className:(0,h.default)("alfa-video-control-bar")},k&&v>0&&"none"!==g&&""!==g&&y.default.createElement("div",{className:(0,h.default)("alfa-video-control-bar__row",v&&"reload-container",I&&"show-reload-icon",g&&"reload-at-".concat(g))},y.default.createElement("div",{className:"alfa-video-control-bar__control-container"},y.default.createElement(V.default,j))),k&&!v&&y.default.createElement("div",{className:"alfa-video-control-bar__row"},y.default.createElement("div",{className:"alfa-video-control-bar__control-container"},y.default.createElement(V.default,M)),y.default.createElement("div",{className:"alfa-video-control-bar__control-container"},y.default.createElement(V.default,A))),k&&i&&y.default.createElement("div",{className:"alfa-video-control-bar__row"},y.default.createElement("div",{className:"alfa-video-control-bar__control-container"},y.default.createElement(V.default,{ariaLabel:P||"Transcript",className:"alfa-video-control-bar__control",lid:"transcript-open",linktype:"func",lpos:T,onClick:n.showTranscript,onKeyDown:n.onSpaceKeyDown,role:"button",url:"#"},y.default.createElement(L.default,{className:"alfa-video-control-bar__transcript-icon alfa-video-control-bar__control",icon:m||"transcript"}),y.default.createElement(H.default,(0,u.default)({},w,{onClose:n.onTranscriptModalClose,modalTitleId:N,closeButton:{shape:"circle",labelWithBorder:!0}}),y.default.createElement(D.default,{modalTitleId:N,ariaLabel:P,content:E}))))))}),(0,v.default)((0,c.default)(n),"renderPassiveVideoContainer",function(){var e=(0,c.default)(n),t=e.constructor,a=e.props,o=e.state,i=e.videoType,r=t.className,l=a.autoHeight,d=a.height,s=a.media,f=a.onError,p=a.onLoad,m=o.currentIndex,v=o.desktop,g=o.tablet,b=o.mediaHasLoaded,_=o.keyId,P=s.mediaAsset,T=s.showCustomPlayerControlBar,E=s.loopCount,C=P&&Array.isArray(P.stills)?P.stills:[],O={className:r,"data-video-type":i,onContextMenu:function(e){e&&e.preventDefault&&e.preventDefault()}},S=v&&g?void 0:b||!v||g?void 0:y.default.createElement(A.default,{id:_}),I=n.canPlayVideo(a)?n.renderVideoElement():void 0,w=T||E>0?n.renderCustomPlayerControlBar():void 0,k={className:(0,h.default)((0,h.default)("layout-wrapper",{"dynamic-height":d,"auto-height":!d&&l}))};return y.default.createElement("div",(0,u.default)({},O,{ref:function(e){return n.__container=e,e}}),I?y.default.createElement("div",k,S,I):y.default.createElement("div",{className:"passive-video-stills-div"},y.default.createElement("ul",{className:"stills-list"},C.map(function(e,t){return y.default.createElement("li",{className:(0,h.default)("stills-item",{"stills-item-active":t===m})},S,y.default.createElement(M.default,{height:d,mediaType:"image",onError:f,onLoad:p,media:{mediaAsset:{image:W({},e)},transformOriginX:s.transformOriginX,transformOriginY:s.transformOriginY}}))}))),w)}),(0,v.default)((0,c.default)(n),"renderVideoElement",function(){var e=(0,c.default)(n),t=e.props,a=e.state,o=e.videoType,i=t.autoHeight,r=t.height,l=t.media,d=a.keyId,s=a.isMuted,f=l.mediaAsset,p=l.loopCount,m=f.trackSrc,v=n.getYouTubeVideoId(t),h=n.getBreakpointVideoAssetSrc(t),g={autoPlay:!0,playsInline:!0};p<=0&&Object.assign(g,{loop:!0});var b={};return r?Object.assign(b,{"data-dynamic-height":"",style:{height:r}}):i&&(b["data-auto-height"]=""),"external"===o?v?y.default.createElement("div",(0,u.default)({className:"player-container"},b),y.default.createElement("div",(0,u.default)({className:"external-video-container"},b),y.default.createElement("div",{id:d}))):void 0:y.default.createElement("div",(0,u.default)({className:"player-container"},b),y.default.createElement("div",(0,u.default)({className:"native-video-container"},b),y.default.createElement("video",(0,u.default)({"data-donottrack":!0,poster:n.getPosterImagePath(),"data-trackSrc":m,muted:s,onError:n.onErrorMedia,onLoadedMetadata:n.onLoadMedia,onVolumeChange:n.onNativeVideoVolumeChange,onCanPlayThrough:n.onCanPlayThrough,onPlaying:n.onPlaying,onPause:n.onPause,onEnded:n.onPlayerEnd,ref:function(e){return n.__video=e,n.__video},tabIndex:"-1"},g),y.default.createElement("source",{src:h}))))}),(0,v.default)((0,c.default)(n),"renderVideoPosterImage",function(){var e=(0,c.default)(n).props,t=e.height,a=e.onError,o=e.onLoad,i=e.videoEndScreenImage,r=(e.media||{}).videoPosterImage,l=r||{lg:i&&""!==i?i:n.getPosterImagePath(),alt:"Image"};return y.default.createElement(M.default,{height:t,mediaType:"image",onError:a,onLoad:o,media:{mediaAsset:{image:l}}})}),n.state={containerClientHeight:window.innerHeight,containerClientWidth:window.innerWidth,currentIndex:0,device:!0,isFirstAudio:!1,isMuted:!0,isPaused:!1,keyId:"",youTubePlayerInitialized:!1,youTubePlayerLoaded:!1,mediaHasLoaded:!1,runnedLoopCount:1,showReload:!1,onScrn:!1,playerState:"",modal:{isOpen:!1}};Object.defineProperty((0,c.default)(n),"videoType",{get:function(){var e=n.props.media.mediaAsset,t=e.videoId,a=e.videoType;return a="external"===a&&t?a:a||"DAM"},configurable:!0,enumerable:!0});var o={name:"youTubePlayer",value:void 0};Object.defineProperty((0,c.default)(n),o.name,{get:function(){return o.value},set:function(e){void 0===e&&o.value&&"function"==typeof o.value.destroy&&o.value.destroy(),o.value=e},configurable:!0,enumerable:!0});return Object.defineProperty((0,c.default)(n),"youTubePlayerShouldInitialize",{get:function(){var e=(0,c.default)(n).youTubePlayer,t=n.state,a=t.device,o=t.desktop,i=t.youTubePlayerInitialized;return!a&&o&&(!i||void 0===e)&&"external"===n.videoType},configurable:!0,enumerable:!0}),n}return(0,s.default)(a,[{key:"UNSAFE_componentWillMount",value:function(){if("undefined"!=typeof document){var e=this.constructor.className,t=w.default.getUniqueKey(e,!0),a={isPaused:this.__globalMotionHasHalted=!I.default.transitionsEnabled,keyId:t};"undefined"!=typeof navigator&&Object.assign(a,{device:(0,_.default)()}),this.updateVideos(a)}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=this.state,n=t.uniqueId,o=a.keyId;k.default.mountData({keyId:o}),this._isMounted=!0;var i=this.__mediaWrapper;"undefined"!=typeof document&&i&&(this.constructor.OnScreen.watch(i),i.addEventListener("onscreen",this.onScreen)),window.addEventListener("resize",(0,T.default)(this.handleResize,50)),document.addEventListener("onIntersectionChangeTransitionsToggled",this.onIntersectionChangeTransitionsToggled),this.setStillsInterval(),this.detectDevice(),this.initializeYouTubePlayer(),n&&S.default.set("context-control-".concat(n,":videos"),{updated:Date.now().toString(),instance:function(){return e}})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,a=this.props,n=this.state,o=n.keyId,i=n.youTubePlayerInitialized,r=e.activeVideoKeyId,l=this.canPlayVideo(e),u={};a.screen!==e.screen&&"desktop"!==e.screen&&(t=!0,Object.assign(u,{motionHalted:!1})),o&&o!==r&&!n.isMuted&&(t=!0,Object.assign(u,{isMuted:!0}),"external"===this.videoType&&this.youTubePlayer&&this.youTubePlayer.mute()),!l&&i&&(t=!0,Object.assign(u,{youTubePlayerInitialized:!1,isMuted:!0})),t&&this.updateVideos(u)}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var a=this.__video,n=this.state,o=this.youTubePlayer,i=n.isFirstAudio,r=n.isPaused,l=n.youTubePlayerInitialized;this.canPlayVideo(e)?i!==t.isFirstAudio&&(o?(o.seekTo(0,!0),r&&!t.isPaused&&o.unpause().play()):a&&(a.currentTime=0)):l&&o&&(this.youTubePlayer=void 0)}},{key:"componentDidUpdate",value:function(){var e=this;clearInterval(this._stillsInterval);var t=this.props,a=this.youTubePlayer,n=t.uniqueId;this.canPlayVideo(t)||this.setStillsInterval(),this.__globalMotionHasHalted&&(this.__video&&this.__video.duration?this.__video.currentTime=this.__video.duration:a&&a.setLoop(!1).seekTo(a.duration(),!0)),n&&S.default.set("context-control-".concat(n,":videos"),{updated:Date.now().toString(),instance:function(){return e}}),this.initializeYouTubePlayer()}},{key:"componentWillUnmount",value:function(){var e=this.state.keyId;clearInterval(this._stillsInterval),clearTimeout(this._onPausePlayerStateChangeTimeout),this.__videoPlayPromise=void 0,window.removeEventListener("resize",(0,T.default)(this.handleResize,50)),k.default.unmountData({keyId:e}),this.youTubePlayer=void 0,this._isMounted=!1,"undefined"!=typeof document&&this.__mediaWrapper&&(this.constructor.OnScreen.unwatch(this.__mediaWrapper),this.__element.removeEventListener("onscreen",this.onScreen))}},{key:"render",value:function(){var e=this,t=this.props,a=this.state,n=t.isLazy,o=a.onScrn;return y.default.createElement("div",{className:"alfa-passive-video-wrapper-container","data-fe-id":"Alfa/AlfaPassiveVideo",ref:function(t){return e.__mediaWrapper=t,e.__mediaWrapper}},n&&!o?this.renderVideoPosterImage():this.renderPassiveVideoContainer())}}],[{key:"getStores",value:function(){return[w.default]}},{key:"getPropsFromStores",value:function(){return w.default.getState()}}]),a}(y.PureComponent),(0,v.default)(r,"OnScreen","undefined"!=typeof document?a("Kezu").default:{}),(0,v.default)(r,"className","alfa-passive-video-container"),(0,v.default)(r,"getImageSrcPath",function(e){return e?e instanceof Array?e.length>1&&(0,P.default)()?e[1].trim().split(" ")[0]:e[0].trim():e.trim():""}),i=l))||i)||i;x.defaultProps={autoHeight:!1,isInCarousel:!1,isLazy:!0};var B=x;t.default=B},uDng:function(e,t,a){"use strict";var n=a("SpGf"),o=a("b9XL");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("3dLy")),r=n(a("0fcM")),l=n(a("P8NW")),u=n(a("E7HD")),d=n(a("d4H2")),s=n(a("0421")),c=n(a("UJE0")),f=n(a("IxO8")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=i?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(n,r,l):n[r]=e[r]}n.default=e,a&&a.set(e,n);return n}(a("1n8/")),m=n(a("9qb7")),v=n(a("KanN")),y=n(a("0vZg"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return(0,s.default)(this,a)}}a("GTHu");var b=function(e){(0,d.default)(a,e);var t=g(a);function a(e){var n;return(0,r.default)(this,a),n=t.call(this,e),(0,f.default)((0,u.default)(n),"_onClickHandler",function(e){var t=n.props.onClick;"function"==typeof t&&t(e)}),(0,f.default)((0,u.default)(n),"_onScreen",function(e){"undefined"!=typeof document&&e.detail.ratio>.5&&(n.constructor.OnScreen.unwatch(n.__element),n.__element.removeEventListener("onscreen",n._onScreen),n.setState({isOnScreen:!0}))}),n.state={isOnScreen:!1},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.useOnScreen;"undefined"!=typeof document&&this.__element&&e&&(this.constructor.OnScreen.watch(this.__element),this.__element.addEventListener("onscreen",this._onScreen))}},{key:"componentWillUnmount",value:function(){var e=this.props.useOnScreen;"undefined"!=typeof document&&this.__element&&e&&(this.constructor.OnScreen.unwatch(this.__element),this.__element.removeEventListener("onscreen",this._onScreen))}},{key:"render",value:function(){var e=this,t=this.state.isOnScreen,a=this.props,n=a.animateHotspots,o=a.asset,r=a.isLazy,l=a.hotspotGroups,u=a.hotspotIsOutline,d=a.isModalMaskTransparent,s=a.modalWidth,c=a.useOnScreen;return p.default.createElement("div",{className:(0,m.default)("alfa-display-media-with-hotspots",{"animate-hotspots":n,"use-on-screen":c,"is-on-screen":t}),"data-fe-id":"Alfa/AlfaDisplayMediaWithHotspots",ref:function(t){e.__element=t}},o&&p.default.createElement(v.default,(0,i.default)({},o,r,{isInCarousel:!0})),l&&p.default.createElement(y.default,{hotSpotIsOutline:u,hotspotGroups:l,onClick:this._onClickHandler,modalWidth:s,isModalMaskTransparent:d}))}}]),a}(p.Component);(0,f.default)(b,"OnScreen","undefined"!=typeof document?a("Kezu").default:{}),b.defaultProps={animateHotspots:!0,useOnScreen:!0,isInCarousel:!1};var _=b;t.default=_},xzzO:function(e,t){}});
import{r as t,c as i,d as e,h as a,g as s}from"./p-ae706b1d.js";import{B as r}from"./p-150435d0.js";const h=class{constructor(e){t(this,e),this.analyticsDataEmitter=i(this,"dxp_comp",7),this.imgPosition="",this.captionPosition="bottom-left",this.contentId="info-container",this.cover=!1,this.imageTitle="",this.isInternalLink=!0,this.lazyload=!0,this.shape="rectangle"}imagePathChangeHandler(){this.imgSrc=this.src}componentWillLoad(){this.base=new r(this,e),this.propOverride&&this.base.overrideProperties(e,this.element,this.propOverride),this.loadResource(),this.calculateFocalPoint(),this.info=this.captionTitle||this.captionEyebrow||this.captionSubtitle}componentDidLoad(){this.imageContainer=this.element&&this.element.querySelector(".image-container"),this.anchorElm=this.element&&this.element.querySelector(".image-container a"),this.imgParentElm=this.anchorElm?this.anchorElm:this.imageContainer,this.componentParentElm=this.element.parentElement,this.img=this.element&&this.element.querySelector("img"),this.lazyload&&this.lazyLoadImage(),this.vfocalpoint&&!this.responsive&&this.applyFocalPoint()}componentDidRender(){(this.cover||void 0!==this.vfocalpoint&&!this.responsive)&&(this.element.firstElementChild.style.height="100%")}componentWillUpdate(){if(this.responsive)return this.img.removeAttribute("style"),void this.imgParentElm.removeAttribute("style");this.vfocalpoint&&!this.responsive&&(this.applyFocalPoint(),this.applyParentHeight(this.imgParentElm))}componentDidUpdate(){this.lazyload&&this.lazyLoadImage()}routingHandler(t){this.base.routingEventListener(t)}windowResizes(){clearTimeout(this.timeOut),this.timeOut=setTimeout((()=>{this.loadResource()}),300),(this.cover||void 0!==this.vfocalpoint&&!this.responsive)&&this.applyParentHeight(this.imgParentElm)}applyFocalPoint(){const t=this.dir.toLowerCase();!this.vfocalpoint||void 0===this.xPos||void 0===this.yPos||this.responsive||this.imgPosition||(this.img.style.left="rtl"!==t?`${this.xPos}%`:`-${this.xPos}%`,"auto"===window.getComputedStyle(this.componentParentElm).height?this.img.style.transform="rtl"!==t?`translate(-${this.xPos}%, 0)`:`translate(${this.xPos}%, 0%)`:(this.img.style.transform="rtl"!==t?`translate(-${this.xPos}%, -${this.yPos}%)`:`translate(${this.xPos}%, -${this.yPos}%)`,this.img.style.top=`${this.yPos}%`),this.img.addEventListener("load",(()=>{this.applyParentHeight(this.imgParentElm)})))}applyParentHeight(t){const i=this.element&&this.element.parentElement;t.style.height=i&&window.getComputedStyle(i).height}calculateDeviceFocalPoint(t,i,e,a,s){const r=[t,i,e,a];r.forEach(((t,i)=>{t||(r[i]=a||void 0)})),this.vfocalpoint={sm:r[0],md:r[1],lg:r[2],xl:r[3]}[s]}calculateFocalPoint(){if(void 0!==this.vfocalpoint)try{this.vfocalpoint="string"==typeof this.vfocalpoint&&0!==this.vfocalpoint.length?JSON.parse(this.vfocalpoint):this.vfocalpoint,2===this.vfocalpoint.length&&this.vfocalpoint[0]<=10&&this.vfocalpoint[1]<=10?(this.xPos="rtl"!==this.dir?10*this.vfocalpoint[0]:10*(10-this.vfocalpoint[0]),this.yPos=10*this.vfocalpoint[1],this.imgPosition=this.getImgPosition()):this.vfocalpoint=void 0}catch(t){this.vfocalpoint=void 0,e.log.error(this.element.tagName,"calculateFocalPoint()","Error message: ",t)}this.imgPosition=!this.vfocalpoint&&this.cover?"center":this.imgPosition}checkLazyLoad(){return this.lazyload?this.renderLazyLoadImage():a("picture",null,a("source",{type:this.altImageMimeType,srcSet:this.altImgSrc}),a("img",{class:`${this.imgPosition} ${!this.vfocalpoint||this.cover&&this.imgPosition||this.responsive?this.cover?"full-cover-img":this.responsive?"dxp-img-fluid":"":"focalpoint-img"}`,alt:e.localeTranslator.translate(this.alt?this.alt:this.imageTitle),title:e.localeTranslator.translate(this.imageTitle),src:this.imgSrc,width:this.imgWidth,height:this.imgHeight,style:{"aspect-ratio":`${this.imgWidth}/${this.imgHeight}`}}))}emitAnalyticsData(){const t={di_comp_name:this.element.tagName,di_comp_title:e.localeTranslator.translate(this.imageTitle),di_comp_src:this.imgSrc};this.analyticsDataEmitter.emit(t),e.log.info(this.element.tagName,"emitAnalytics()",t)}fallBack(){const t=this.element.querySelector("img");setTimeout((()=>{const i=window.scrollY;t&&t.offsetTop<window.innerHeight+i&&(t.src=t.dataset.src,t.classList.remove("lazy"))}),20)}getAltImageSrc(){return{xl:this.altImageSrc,lg:this.altImageSrcLg?this.altImageSrcLg:this.altImageSrc,md:this.altImageSrcMd?this.altImageSrcMd:this.altImageSrcLg?this.altImageSrcLg:this.altImageSrc,sm:this.altImageSrcSm?this.altImageSrcSm:this.altImageSrcMd?this.altImageSrcMd:this.altImageSrcLg?this.altImageSrcLg:this.altImageSrc}}getImageHeight(){return{xl:this.imageHeight,lg:this.imageHeightLg?this.imageHeightLg:this.imageHeight,md:this.imageHeightMd?this.imageHeightMd:this.imageHeightLg?this.imageHeightLg:this.imageHeight,sm:this.imageHeightSm?this.imageHeightSm:this.imageHeightMd?this.imageHeightMd:this.imageHeightLg?this.imageHeightLg:this.imageHeight}}getImageWidth(){return{xl:this.imageWidth,lg:this.imageWidthLg?this.imageWidthLg:this.imageWidth,md:this.imageWidthMd?this.imageWidthMd:this.imageWidthLg?this.imageWidthLg:this.imageWidth,sm:this.imageWidthSm?this.imageWidthSm:this.imageWidthMd?this.imageWidthMd:this.imageWidthLg?this.imageWidthLg:this.imageWidth}}getImgPosition(){return 5===this.vfocalpoint[0]&&5===this.vfocalpoint[1]?"center":5===this.vfocalpoint[0]&&0===this.vfocalpoint[1]?"top":5===this.vfocalpoint[0]&&10===this.vfocalpoint[1]?"bottom":0===this.vfocalpoint[0]&&5===this.vfocalpoint[1]?"left":10===this.vfocalpoint[0]&&5===this.vfocalpoint[1]?"right":""}getShapeClass(){switch(this.shape){case"circle":return"circular-image";case"rounded":return"rounded-image";case"thumbnail":return"thumbnail-image";default:return""}}getSrc(){return{xl:this.src,lg:this.srcLg?this.srcLg:this.src,md:this.srcMd?this.srcMd:this.srcLg?this.srcLg:this.src,sm:this.srcSm?this.srcSm:this.srcMd?this.srcMd:this.srcLg?this.srcLg:this.src}}lazyLoadImage(){let t;if(window.IntersectionObserver){t=this.element.querySelector("img");const i=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting||!e.util.isElementNotInViewport(t.target,"all")){const e=t.target;e.src=e.dataset.src,e.classList.remove("lazy"),i.unobserve(e)}}))}));t&&i.observe(t)}else this.fallBack()}loadResource(){const t=this.base.getDeviceWidthType(),i=this.getSrc(),e=this.getImageWidth(),a=this.getImageHeight(),s=this.getAltImageSrc();this.imgSrc=i[t]?i[t]:this.src,this.imgWidth=e[t]?e[t]:this.imageWidth,this.imgHeight=a[t]?a[t]:this.imageHeight,this.altImgSrc=s[t]?s[t]:this.altImageSrc,this.calculateDeviceFocalPoint(this.focalpointSm,this.focalpointMd,this.focalpointLg,this.focalpoint,t),this.calculateFocalPoint(),setTimeout((()=>{this.vfocalpoint&&!this.responsive&&this.applyFocalPoint()}),300)}renderCaptions(){return this.info&&a("div",{id:this.contentId,class:this.captionPosition},this.captionEyebrow&&a("p",{class:"dxp-title-eyebrow dxp-font-size-lg"},e.localeTranslator.translate(this.captionEyebrow)),this.captionTitle&&a("h3",{class:"dxp-title-1"},e.localeTranslator.translate(this.captionTitle)),a("p",{class:this.captionSubtitle?"description dxp-hidden-xs-only":"description"},e.localeTranslator.translate(this.captionSubtitle)))}renderImage(t){return t?a("a",{href:this.href,rel:this.isInternalLink?"":"noopener",class:this.cover?"dxp-flex-grow-1":"","aria-label":e.localeTranslator.translate(this.ariaLabel),target:this.openInNewTab?"_blank":"_self","aria-describedby":this.info&&this.contentId,onClick:()=>this.emitAnalyticsData()},this.renderOverlay(),this.checkLazyLoad()):[this.checkLazyLoad(),this.renderOverlay()]}renderLazyLoadImage(){return a("picture",null,a("source",{type:this.altImageMimeType,srcSet:this.altImgSrc}),a("img",{width:this.imgWidth,height:this.imgHeight,class:`${this.imgPosition} ${!this.vfocalpoint||this.cover&&this.imgPosition||this.responsive?this.cover?"full-cover-img":this.responsive?"dxp-img-fluid":"":"focalpoint-img"}`,alt:e.localeTranslator.translate(this.alt?this.alt:this.imageTitle),title:e.localeTranslator.translate(this.imageTitle),"data-src":this.imgSrc,style:{"aspect-ratio":`${this.imgWidth}/${this.imgHeight}`}}))}renderOverlay(){return this.overlay?a("div",{class:"overlay"},a("div",{class:"overlay-content-wrapper"},this.imageTitle||this.overlayContent?this.overlayContent?this.renderOverlayText():this.imageTitle?a("p",{class:"image-title",innerHTML:this.imageTitle}):"":a("slot",{name:"overlay"}))):""}renderOverlayText(){const t="circle"===this.shape;return a("div",{class:t?" circular-text":"rounded"===this.shape?" rounded-text":"thumbnail"===this.shape?"thumbnail-text":"",innerHTML:` ${t?"<i></i>":""} ${this.overlayContent}`})}render(){return this.imgSrc&&this.imgSrc.length?a("div",{class:` ${this.base.componentClass()}\n        ${this.getShapeClass()} ${this.cover?"dxp-flex":""}`,dir:this.dir},this.dtmUrl&&a("script",{src:this.dtmUrl}),a("div",{class:"image-container "+(this.cover&&this.href?"dxp-flex dxp-flex-grow-1":this.cover?"dxp-flex-grow-1":"")},this.renderImage(this.href),this.renderCaptions())):void 0}get element(){return s(this)}static get watchers(){return{src:["imagePathChangeHandler"]}}};h.style='@keyframes animate-pop{0%{transform:scale(1)}30%{transform:scale(1.2)}80%{transform:scale(.9)}to{transform:scale(1)}}@keyframes animate-moveup{0%{top:2.5rem;opacity:0}to{top:0;opacity:1}}@keyframes animate-fade-out{0%{opacity:1}70%{opacity:0;transform:scale(2)}75%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.dxp .dxp-theme-white.dxp-image{background:transparent}.dxp .dxp-theme-white.dxp-image .circular-text:before,.dxp .dxp-theme-white.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at right,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-white.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at left,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-white.dxp-image.thumbnail-image{background-color:#fff;border:1px solid #c4c0bb}.dxp .dxp-theme-white.dxp-image .overlay{background:rgba(20,20,19,.8);color:hsla(0,0%,100%,.8)}.dxp .dxp-theme-white.dxp-image a:focus{box-shadow:0 0 5px 0 #000}.dxp .dxp-theme-white.dxp-image:hover .overlay .overlay-content-wrapper{animation:animate-moveup .3s cubic-bezier(.55,.16,.63,.94)}@keyframes animate-pop{0%{transform:scale(1)}30%{transform:scale(1.2)}80%{transform:scale(.9)}to{transform:scale(1)}}@keyframes animate-moveup{0%{top:2.5rem;opacity:0}to{top:0;opacity:1}}@keyframes animate-fade-out{0%{opacity:1}70%{opacity:0;transform:scale(2)}75%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.dxp .dxp-theme-black.dxp-image{background:transparent}.dxp .dxp-theme-black.dxp-image .circular-text:before,.dxp .dxp-theme-black.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at right,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-black.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at left,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-black.dxp-image.thumbnail-image{background-color:#141413;border:1px solid #c4c0bb}.dxp .dxp-theme-black.dxp-image .overlay{background:rgba(20,20,19,.8);color:hsla(0,0%,100%,.8)}.dxp .dxp-theme-black.dxp-image a:focus{box-shadow:0 0 5px 0 #fff}.dxp .dxp-theme-black.dxp-image:hover .overlay .overlay-content-wrapper{animation:animate-moveup .3s cubic-bezier(.55,.16,.63,.94)}@keyframes animate-pop{0%{transform:scale(1)}30%{transform:scale(1.2)}80%{transform:scale(.9)}to{transform:scale(1)}}@keyframes animate-moveup{0%{top:2.5rem;opacity:0}to{top:0;opacity:1}}@keyframes animate-fade-out{0%{opacity:1}70%{opacity:0;transform:scale(2)}75%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.dxp .dxp-theme-light-grey.dxp-image{background:transparent}.dxp .dxp-theme-light-grey.dxp-image .circular-text:before,.dxp .dxp-theme-light-grey.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at right,transparent calc(100% - 15px),rgba(246,243,239,.8) 0)}.dxp .dxp-theme-light-grey.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at left,transparent calc(100% - 15px),rgba(246,243,239,.8) 0)}.dxp .dxp-theme-light-grey.dxp-image.thumbnail-image{background-color:#f8f7f5;border:1px solid #c4c0bb}.dxp .dxp-theme-light-grey.dxp-image .overlay{background:rgba(20,20,19,.8);color:rgba(246,243,239,.8)}.dxp .dxp-theme-light-grey.dxp-image a:focus{box-shadow:0 0 5px 0 #000}.dxp .dxp-theme-light-grey.dxp-image:hover .overlay .overlay-content-wrapper{animation:animate-moveup .3s cubic-bezier(.55,.16,.63,.94)}@keyframes animate-pop{0%{transform:scale(1)}30%{transform:scale(1.2)}80%{transform:scale(.9)}to{transform:scale(1)}}@keyframes animate-moveup{0%{top:2.5rem;opacity:0}to{top:0;opacity:1}}@keyframes animate-fade-out{0%{opacity:1}70%{opacity:0;transform:scale(2)}75%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.dxp .dxp-theme-rich-grey.dxp-image{background:transparent}.dxp .dxp-theme-rich-grey.dxp-image .circular-text:before,.dxp .dxp-theme-rich-grey.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at right,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-rich-grey.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at left,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-rich-grey.dxp-image.thumbnail-image{background-color:#323231;border:1px solid #c4c0bb}.dxp .dxp-theme-rich-grey.dxp-image .overlay{background:rgba(20,20,19,.8);color:hsla(0,0%,100%,.8)}.dxp .dxp-theme-rich-grey.dxp-image a:focus{box-shadow:0 0 5px 0 #fff}.dxp .dxp-theme-rich-grey.dxp-image:hover .overlay .overlay-content-wrapper{animation:animate-moveup .3s cubic-bezier(.55,.16,.63,.94)}@keyframes animate-pop{0%{transform:scale(1)}30%{transform:scale(1.2)}80%{transform:scale(.9)}to{transform:scale(1)}}@keyframes animate-moveup{0%{top:2.5rem;opacity:0}to{top:0;opacity:1}}@keyframes animate-fade-out{0%{opacity:1}70%{opacity:0;transform:scale(2)}75%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.dxp .dxp-theme-b2b.dxp-image{background:transparent}.dxp .dxp-theme-b2b.dxp-image .circular-text:before,.dxp .dxp-theme-b2b.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at right,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-b2b.dxp-image .circular-text i{shape-outside:radial-gradient(farthest-side at left,transparent calc(100% - 15px),hsla(0,0%,100%,.8) 0)}.dxp .dxp-theme-b2b.dxp-image.thumbnail-image{background-color:#fff;border:1px solid #c4c0bb}.dxp .dxp-theme-b2b.dxp-image .overlay{background:rgba(20,20,19,.8);color:hsla(0,0%,100%,.8)}.dxp .dxp-theme-b2b.dxp-image a:focus{box-shadow:0 0 5px 0 #000}.dxp .dxp-theme-b2b.dxp-image:hover .overlay .overlay-content-wrapper{animation:animate-moveup .3s cubic-bezier(.55,.16,.63,.94)}.dxp-image{}.dxp-image img{min-width:5px}.dxp-image .focalpoint-img{width:auto;max-height:100%;position:relative}.dxp-image.circular-image{border-radius:50%;overflow:hidden}.dxp-image.circular-image img{width:100%}.dxp-image .circular-text{height:100%;width:100%;border-radius:50%;margin:auto auto;font-size:1.875rem;text-align:justify}.dxp-image .circular-text i,.dxp-image .circular-text::before{content:"";float:left;height:100%;width:50%}.dxp-image .circular-text i{float:right}.dxp-image.rounded-image{border-radius:5%;overflow:hidden}.dxp-image.rounded-image img{width:100%}.dxp-image .rounded-text{height:100%;width:100%;border-radius:5px}.dxp-image.thumbnail-image{padding:0.25rem;border-radius:0.25rem;overflow:hidden}.dxp-image.thumbnail-image img{width:100%}.dxp-image .thumbnail-text{border-radius:0.25rem}.dxp-image .image-container{position:relative;width:100%}.dxp-image .image-container a{display:block;position:relative;overflow:hidden;outline:0}.dxp-image .image-container a:focus .overlay{display:block;cursor:pointer}.dxp-image .image-container .overlay{position:absolute;top:0;bottom:0;left:0;right:0;display:none;font-size:1.875rem;text-align:center}.dxp-image .image-container .overlay p.image-title{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.dxp-image .image-container .overlay .overlay-content-wrapper{position:relative;width:100%;height:100%}.dxp-image:hover .overlay{display:block;cursor:pointer}.dxp-image .bottom-left{position:absolute;bottom:32px;left:24px}.dxp-image .top-left{position:absolute;top:32px;left:24px}.dxp-image .top-right{position:absolute;top:32px;right:24px}.dxp-image .bottom-right{position:absolute;bottom:32px;right:24px}.dxp-image .centered{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.dxp-image .full-cover-img{width:100%;height:100%;object-fit:cover;object-position:center}.dxp-image .full-cover-img.top{object-position:top}.dxp-image .full-cover-img.bottom{object-position:bottom}.dxp-image .full-cover-img.left{object-position:left}.dxp-image .full-cover-img.right{object-position:right}@media (min-width: 992px){.dxp-image .full-width-lg{min-width:100%;min-height:100%}.dxp-image .focalpoint-img{max-height:none}}@media (max-width: 991px){.dxp-image .focalpoint-img{min-height:100%}.dxp-image .full-width-md-down{min-width:100%;max-height:none}}';export{h as dxp_image}
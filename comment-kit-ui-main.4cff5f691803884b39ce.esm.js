!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CommentKitUIMain=t():e.CommentKitUIMain=t()}(window,(function(){return(window["commentKitUI1.x.xWebpackJSONP"]=window["commentKitUI1.x.xWebpackJSONP"]||[]).push([[4],{"+oR6":function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.MODAL_THREAD_COPIED="modal.thread_copied"}(r||(r={}))},0:function(e,t,n){e.exports=n("XDSR")},"2ooL":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("F5+k");const o=["grinning","grin","joy","smiley","smile","sweat_smile","satisfied","innocent","smiling_imp","wink","blush","yum","relieved","heart_eyes","sunglasses","smirk","neutral_face","expressionless","unamused","sweat","pensive","confused","confounded","kissing","kissing_heart","kissing_smiling_eyes","kissing_closed_eyes","stuck_out_tongue","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","disappointed","worried","angry","rage","cry","persevere","triumph","disappointed_relieved","frowning","anguished","fearful","weary","sleepy","tired_face","grimacing","sob","open_mouth","hushed","cold_sweat","scream","astonished","flushed","sleeping","dizzy_face","no_mouth","relaxed","mask","smile_cat","joy_cat","smiley_cat","heart_eyes_cat","smirk_cat","kissing_cat","pouting_cat","crying_cat_face","scream_cat","eyes","ear","nose","lips","tongue","point_up","fist","raised_hands","raised_hand","v","point_up_2","point_down","point_left","point_right","punch","wave","ok_hand","thumbsup","thumbsdown","clap","open_hands","no_good","ok_woman","bow","see_no_evil","hear_no_evil","speak_no_evil","raising_hand","person_frowning","person_with_pouting_face","bust_in_silhouette","busts_in_silhouette","boy","girl","man","woman","family","couple","two_men_holding_hands","two_women_holding_hands","cop","dancers","bride_with_veil","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","older_man","older_woman","baby","construction_worker","princess","japanese_ogre","japanese_goblin","ghost","angel","alien","space_invader","imp","skull","information_desk_person","guardsman","muscle"].map(e=>{var t,n;const o=r.b.emojis[e];return null!==(t=null!==(n=null==o?void 0:o[1])&&void 0!==n?n:o)&&void 0!==t?t:r.b.search(e)[0]})},"4pv7":function(e,t,n){"use strict";n.r(t);var r=n("D212");for(var o in r)["SidebarEvents","ModalEvents","default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n("tPgs");for(var o in i)["SidebarEvents","ModalEvents","default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("Wl6Q");n.d(t,"MoreAction",(function(){return a.d})),n.d(t,"ChevronPosition",(function(){return a.a})),n.d(t,"TooltipPosition",(function(){return a.e})),n.d(t,"FormAction",(function(){return a.c})),n.d(t,"CommentState",(function(){return a.b}));var c=n("E4un");n.d(t,"FilterRadioOption",(function(){return c.c})),n.d(t,"FilterCheckboxOption",(function(){return c.b})),n.d(t,"FilterBy",(function(){return c.a})),n.d(t,"Includes",(function(){return c.e})),n.d(t,"FiltersMap",(function(){return c.d}));var s=n("iX8j");for(var o in s)["SidebarEvents","ModalEvents","MoreAction","ChevronPosition","TooltipPosition","FormAction","CommentState","FilterRadioOption","FilterCheckboxOption","FilterBy","Includes","FiltersMap","default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(o);var u=n("XX9q");for(var o in u)["SidebarEvents","ModalEvents","MoreAction","ChevronPosition","TooltipPosition","FormAction","CommentState","FilterRadioOption","FilterCheckboxOption","FilterBy","Includes","FiltersMap","default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var l=n("vNQ8");n.d(t,"AvatarSizes",(function(){return l.a})),n.d(t,"IconColors",(function(){return l.c})),n.d(t,"NamedColorOption",(function(){return l.d})),n.d(t,"DEFAULT_COLOR",(function(){return l.b})),n.d(t,"ThreadColorOptions",(function(){return l.e})),n.d(t,"ZeroIndexedThreadColorOptions",(function(){return l.f}));var d=n("q0rG");n.d(t,"DEFAULT_PAGINATION_LIMIT",(function(){return d.a}));var f=n("MUCk");n.d(t,"SidebarEvents",(function(){return f.a}));var m=n("+oR6");n.d(t,"ModalEvents",(function(){return m.a}));var p=n("EQOb");n.d(t,"SidebarStringKeys",(function(){return p.a}))},"5bX6":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("2t6/"),o=n.n(r),i=n("6jSw"),a=n.n(i),c=n("y5Ve"),s=n("l5sy"),u=n("li6o"),l=n("yY6d");const d=Object(c.a)(Object(s.a)(Function),e=>a()(e),u.a),f=Object(c.a)(Object(s.a)(Array),Object(l.a)(d),e=>[d(e)]),m=Object(l.a)(f);function p(e){return new Promise((t,n)=>{o()(m(e),e=>{e?n(e):t(e)})})}},"5wd+":function(e,t,n){"use strict";function r(e,t){r=function(e,t){return new s(e,void 0,t)};var n=i(RegExp),a=RegExp.prototype,c=new WeakMap;function s(e,t,r){var o=n.call(this,e,t);return c.set(o,r||c.get(e)),o}function u(e,t){var n=c.get(t);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return o(s,n),s.prototype.exec=function(e){var t=a.exec.call(this,e);return t&&(t.groups=u(t,this)),t},s.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=c.get(this);return a[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+n[t]})))}if("function"==typeof t){var r=this;return a[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(u(e,r)),t.apply(this,e)}))}return a[Symbol.replace].call(this,e,t)},r.apply(this,arguments)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)})(e)}function a(e,t,n){return(a=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l({integrationType:e,integrationId:t,subtype:n="root",clientId:r}){return`irn:${e}:${t}:${n}${r?"/"+r:""}`}n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m}));let d=["document","freehand","presentation","prototype","rhombus","spec"];const f=r(/^irn:([\x2Da-z]+):([\x2D0-9A-Z_a-z]+)(?::([\x2D0-9A-Z_a-z]+)(?:\/([\x2D0-9A-Z_a-z]+))?)?$/i,{integrationType:1,integrationId:2,subtype:3,subtypeId:4}),m=Object.defineProperties((function(e){const t=e.match(f);if(null===t)throw new Error(`parseIRN(): Invalid IRN syntax "${e}"`);const{integrationType:n,integrationId:r,subtype:o,subtypeId:i}=t.groups,a=d.includes(n),c=Boolean(r);if(a&&c)return{integrationId:r,integrationType:n,subtype:o||"root",clientId:i};throw new Error(`parseIRN(): Invalid IRN syntax "${e}"`)}),{allowedTypes:{get:()=>d,enumerable:!1,configurable:!1},setAllowedTypes:{value:function(e){d=e},enumerable:!1,configurable:!1}})},"9FeA":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p}));var r=n("ROOe");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a;!function(e){e.LOCAL="5696d9987b1f40069c00002b",e.TESTING="561c15f112b6db0bcc000009",e.PREVIEW="5ab2837e2ee1b92ad8820abd",e.PRODUCTION_MT="561c15f112b6db0bcc00000a",e.PRODUCTION_PRIVATE="5ab2e4fe868c912a9bcb59c9"}(a||(a={}));const c={local:a.LOCAL,testing:a.TESTING,preview:a.PREVIEW,"multi-tenant":a.PRODUCTION_MT,"single-tenant":a.PRODUCTION_PRIVATE,global:a.PRODUCTION_PRIVATE};let s,u,l;!function(e){e.allowDebug="allowDebug",e.emojiPicker="emojiPicker",e.enableGetAggregatesCount="multi-irn-comment-kit-get-aggregates-count",e.commentOnSticky="smrt-897-comment-on-sticky",e.showCommentPreview="show-comment-preview",e.enableTasks="tasks-smrt-1220"}(u||(u={})),function(e){e.privateCommentDisplay="privateCommentDisplay"}(l||(l={}));const d={[u.allowDebug]:!1,[u.emojiPicker]:!0,"freehand-comments":!0,"com-739-comment-kit-hotlinking":!0,"freehand-comments-post-m4":!0,"freehand-comment-sidebar":!1,[u.enableGetAggregatesCount]:!0,[u.showCommentPreview]:!1,[u.enableTasks]:!1,[l.privateCommentDisplay]:!1,privateCommentSelect:!1,commentColorDisplay:!1,commentColorSelect:!1,highlightThreadDisplay:!1,highlightThreadSelect:!1,[u.commentOnSticky]:"v0"};async function f(e,t){if(!c[e]||!t)return null;if(s)return s;const n=c[e],o=m(t);return s=r.a(n,o,{sendEventsOnlyForVariation:!0}),await s.waitForInitialization(),s.variation("com-320-comment-kit-debug")&&window.console&&console.log("DEBUG flag is TRUE."),s}function m(e={}){var t,n,r,o,i,a;const c=null===(t=window)||void 0===t||null===(n=t.inGlobalContext)||void 0===n?void 0:n.teamSubDomain,s=null===(r=e.user)||void 0===r?void 0:r.id,u=null===(o=e.team)||void 0===o?void 0:o.id;return{key:s||"anonymous",name:null===(i=e.user)||void 0===i?void 0:i.name,email:null===(a=e.user)||void 0===a?void 0:a.email,anonymous:!1,custom:{subdomain:c,teamSubdomain:c,teamID:u,teamId:u,userID:s,userId:s,environment:e.environment,tier:e.tier}}}function p(e,t=[]){const{allowDebug:n}=d,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(d,["allowDebug"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},function(e,t){return t.reduce((t,n)=>{if("string"==typeof n){const r=e.variation(n);return void 0!==r&&(t[n]=r),t}return Object.entries(n).forEach(([n,r])=>{const o=e.variation(r);void 0!==o&&(t[n]=o)}),t},{})}(e,[{[u.allowDebug]:"com-320-comment-kit-debug"},{[u.emojiPicker]:"comment-kit-emoji-picker"},...Object.keys(r),...t]))}},"9tAK":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return m}));var r=n("cDcd"),o=n.n(r),i=n("rvun"),a=n("G0WV");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=Object(r.createContext)({collect:i.a}),d=l.Provider,f=l.Consumer,m=Object(a.a)((function(e,t){return o.a.forwardRef((n,r)=>{const i=o.a.useContext(l);return o.a.createElement(d,{children:o.a.createElement(t,s(s({},n),{},{ref:r})),value:{collect:(t,n)=>i.collect(t,s(s({},e),n))}})})}))},D212:function(e,t){},Dtiu:function(e,t){e.exports=inGlobalContext.runtimeProvidedResources.mappings["styled-components"]["5.2.x"]},E4un:function(e,t,n){"use strict";let r,o,i,a;n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c})),function(e){e.All="filter_all",e.Unread="filter_unread",e.Mentions="filter_mentions"}(r||(r={})),function(e){e.Resolved="resolved_enabled"}(o||(o={})),function(e){e.FILTERBY_NONE="FILTERBY_NONE",e.FILTERBY_MENTIONS="FILTERBY_MENTIONS",e.FILTERBY_UNREADS="FILTERBY_UNREADS"}(i||(i={})),function(e){e.INCLUDES_INVALID="INCLUDES_INVALID",e.INCLUDES_SUBRESOURCES="INCLUDES_SUBRESOURCES",e.INCLUDES_RESOLVED="INCLUDES_RESOLVED"}(a||(a={}));const c=new Map;c.set(r.Unread,i.FILTERBY_UNREADS),c.set(r.Mentions,i.FILTERBY_MENTIONS),c.set(r.All,i.FILTERBY_NONE),c.set(o.Resolved,a.INCLUDES_RESOLVED)},EQOb:function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.DeeplinkMenuItemLabel="DeeplinkMenuItemLabel"}(r||(r={}))},GxHE:function(e,t,n){"use strict";function r(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}n.d(t,"a",(function(){return r}))},JmLI:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c}));const r=/[aeiou]/;function o(e,t,n="",o="s"){return e>1&&"y"===t[t.length-1]&&!r.test(t[t.length-2])&&(t=t.slice(0,-1),o="ies"),`${e} ${t}${1!==e?o:""}${n&&" "+n}`}function i(e,t=!1){return(e.length>0||t)&&!e.endsWith(" ")?e+" ":e}function a(e,t=!1){return(e.length>0||t)&&!e.startsWith(" ")?" "+e:e}function c(e,t){if(0===t.length||0===e.length)return 0;if(t.length>e.length)return c(t,e);const n=Math.floor(Math.max(e.length,t.length)/2)-1,r=Array(e.length).fill(!1),o=Array(t.length).fill(!1);let i=0,a=0,s=0;for(let c=0;c<e.length;c++){const s=Math.max(c-n,0),u=Math.min(e.length,c+n);for(let n=s;n<=u;n++)if(!o[c]&&e.charAt(c)===t.charAt(n)){c===n&&i===c&&i++,r[c]=o[n]=!0,a++;break}}if(0===a)return 0;let u=0,l=0;for(let c=0;c<e.length;c++)if(r[c]){for(l=u;l<t.length;l++)if(o[l]){u=l+1;break}e.charAt(c)!==t.charAt(l)&&s++}s/=2;const d=(a/e.length+a/t.length+(a-s)/a)/3;return d+.1*i*(1-d)}},KvK8:function(e,t,n){"use strict";var r=n("Dtiu"),o=n.n(r).a.p.withConfig({displayName:"test-mode-notification__TestModeNotification",componentId:"z4dhdz-0"})(["position:absolute;left:0;bottom:0;margin:0;padding:1em;background:pink;z-index:1000;"]);t.a=o},MUCk:function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.SIDEBAR_THREAD_UNSELECTED="sidebar.thread_unselected",e.SIDEBAR_THREAD_SELECTED="sidebar.thread_selected",e.SIDEBAR_FOCUS_THREAD="sidebar.focus_thread",e.SIDEBAR_BLUR_THREAD="sidebar.blur_thread",e.SIDEBAR_MULTI_IRN_REMOVED="sidebar.multi_irn_removed"}(r||(r={}))},NMfz:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return e.id?o(o({},e),{},{id:String(e.id)}):e}n.d(t,"a",(function(){return a}))},OsUV:function(e,t){e.exports=inGlobalContext.runtimeProvidedResources.mappings["helios-one-web"]["2.x.x"]},W3Zx:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a}));const r=Object.freeze({EmojiInserted:"CommentKit.Emoji.Inserted",EmojiSelected:"CommentKit.Emoji.Selected",GoToCommentClicked:"CommentKit.Sidebar.GoToComment.Clicked",MentionsInserted:"CommentKit.Mentions.Inserted",MentionsSelected:"CommentKit.Mentions.Selected",RepliesCreateFailed:"CommentKit.Replies.CreateFailed",RepliesCreated:"CommentKit.Replies.Created",RepliesDeleteFailed:"CommentKit.Replies.DeleteFailed",RepliesDeleted:"CommentKit.Replies.Deleted",RepliesDraftResumed:"CommentKit.Replies.DraftResumed",RepliesDraftStarted:"CommentKit.Replies.DraftStarted",RepliesEdited:"CommentKit.Replies.Edited",SidebarClosed:"CommentKit.Sidebar.Closed",SidebarFiltersApplied:"CommentKit.Sidebar.Filters.Applied",SidebarOpened:"CommentKit.Sidebar.Opened",SidebarOverviewViewed:"CommentKit.Sidebar.Overview.Viewed",SidebarToggled:"CommentKit.Sidebar.Toggled",ThreadDraftDiscarded:"CommentKit.Threads.DraftDiscarded",ThreadsContentEdited:"CommentKit.Threads.ContentEdited",ThreadsCreateFailed:"CommentKit.Threads.CreateFailed",ThreadsCreated:"CommentKit.Threads.Created",ThreadsDeleteFailed:"CommentKit.Threads.DeleteFailed",ThreadsDeleted:"CommentKit.Threads.Deleted",ThreadsDraftResumed:"CommentKit.Threads.DraftResumed",ThreadsDraftStarted:"CommentKit.Threads.DraftStarted",ThreadsHovered:"CommentKit.Threads.Hovered",ThreadsMarkerCreated:"CommentKit.Threads.Marker.Created",ThreadsResolveFailed:"CommentKit.Threads.ResolveFailed",ThreadsResolved:"CommentKit.Threads.Resolved",ThreadsUnresolved:"CommentKit.Threads.Unresolved",ThreadsViewed:"CommentKit.Threads.Viewed"}),o=Object.freeze({Modal:"modal",Sidebar:"sidebar",SidebarOverview:"sidebar.overview",SidebarThreadView:"sidebar.threadView"}),i=Object.freeze({Manual:"manual",NewReply:"newReply",Parser:"parser",Selected:"selected"}),a={ThreadStarter:"threadStarter",Reply:"reply"}},WX45:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("BBMN"),o=n("JmLI");function i(e,t){const n=Object(r.a)(e).valueOf()-Object(r.a)(t).valueOf();if(n<6e4)return"Just now";if(n<36e5){const e=Math.round(n/6e4);return Object(o.b)(e,"minute","ago")}if(n<864e5){const e=Math.round(n/36e5);return Object(o.b)(e,"hour","ago")}if(n<2592e6){const e=Math.round(n/864e5);return Object(o.b)(e,"day","ago")}if(n<31536e6){const e=Math.round(n/2592e6);return Object(o.b)(e,"month","ago")}{const e=Math.round(n/31536e6);return Object(o.b)(e,"year","ago")}}},Wl6Q:function(e,t,n){"use strict";let r,o,i,a,c;n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),function(e){e.DELETE="delete",e.HIGHLIGHT="highlight",e.DISCARD="discard",e.EDIT="edit",e.RESOLVE="resolve",e.GOTO="goto",e.COPY="copy"}(r||(r={})),function(e){e.CENTER="center",e.START="start",e.END="end"}(o||(o={})),function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"}(i||(i={})),function(e){e.POST="post",e.REPLY="reply",e.CLOSE="close"}(a||(a={})),function(e){e.isNew="isNew",e.isEditing="isEditing",e.isReply="isReply",e.isExisting="isExisting"}(c||(c={}))},XDSR:function(e,t,n){"use strict";n.r(t),n.d(t,"CommentKit",(function(){return re})),n.d(t,"CommentKitUIRoot",(function(){return ie}));var r=n("PGwn"),o=n.n(r),i=n("fADB"),a=n("ZtrH");n.n(a).a.polyfill();var c=n("cDcd"),s=n.n(c),u=n("faye"),l=n.n(u);const d=()=>n.e(1).then(n.bind(null,"E3at")),f=()=>Promise.all([n.e(1),n.e(0),n.e(3)]).then(n.bind(null,"Ua0o")),m=()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"SCgq"));var p=n("KvK8"),h=n("qCtS"),b=s.a.lazy((function(){return n.e(6).then(n.bind(null,"FfnY"))})),g="".concat(location.protocol,"//").concat(location.host),y=Object(h.a)((function(e){var t=e.CKMain,n=e.CKComponents,r={integrationType:"doc-type",integrationId:"doc-id",clientId:"sub-doc-id",subtype:"sub-doc-type"},o=Object(i.generateIRN)(r),a=Object(i.useOnceResolved)((function(){return t.DATA.initializeDataStore(g,r,t.API)})),c=a.isError,u=a.isLoaded,l=a.isLoading,d=a.result;if("localhost"!==window.location.hostname&&!(null==d?void 0:d.getConfig().features.allowDebug))return s.a.createElement("span",{"aria-label":"initializing"});if(c)return window.console&&console.error(d),s.a.createElement(p.a,null,"Error loading comments");if(!u||l)return s.a.createElement(p.a,null,"Loading comments");var f=d;return s.a.createElement(s.a.Suspense,{fallback:s.a.createElement("p",null,"Loading UITestComponent")},s.a.createElement(b,{irn:o,coreData:f,CKComponents:n}))})),O=n("8hdL");Object(O.h)({isolateGlobalState:!0});var v,D,w,E,C,R=n("7mmC"),j=n("m/ml"),T=n.n(j);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let A=(C=E=class extends R.TypedEmitter{constructor(){super(),this.coreData=void 0,this.apiTransport=void 0,this.components=void 0,this.submodules={},this.hooks={didInitialize:[],didLoadModule:[],onDataReady:[],onComponentsReady:[],onReady:[],threadWillSave:[],threadDidSave:[],threadWillDelete:[],threadDidDelete:[],commentWillSave:[],commentDidSave:[],commentWillDelete:[],commentDidDelete:[]},this.hookTypes={didInitialize:i.HookTypes.Notify,didLoadModule:i.HookTypes.Notify,onDataReady:i.HookTypes.Notify,onComponentsReady:i.HookTypes.Notify,onReady:i.HookTypes.Notify,threadWillSave:i.HookTypes.Check,threadDidSave:i.HookTypes.Notify,threadWillDelete:i.HookTypes.Check,threadDidDelete:i.HookTypes.Notify,commentWillSave:i.HookTypes.Check,commentDidSave:i.HookTypes.Notify,commentWillDelete:i.HookTypes.Check,commentDidDelete:i.HookTypes.Notify},this.analyticsMeasure=i.collect,k(this,"options",D,this),k(this,"activeDomain",w,this),Object(O.l)(this)}async loadModulesAndInitDatastore(e,t={}){await Object(i.autoInject)(I(I({},this.loadModuleTasks(t)),this.initializeDataStoreTasks({documentInfo:e}))),await this.callHook("onReady")}async loadModules(e={}){return await Object(i.autoInject)(this.loadModuleTasks(e)),this}loadModuleTasks(e={}){var t=this;return I({loadApiPackage:async function(){const e=await d();return t.submodules.api=e,e},dispatchLoadApiPackageHookpoint:["loadApiPackage",e=>this.callHook("didLoadModule","api",e)],loadDataPackage:async function(){const e=await f();return t.submodules.data=e,e},dispatchLoadDataPackageHookpoint:["loadDataPackage",e=>this.callHook("didLoadModule","data",e)],loadComponentsPackage:async function(){const e=await m();return t.submodules.components=e,e},initComponents:["loadComponentsPackage",e=>{this.components=e}],dispatchLoadComponentsPackageHookpoint:["loadComponentsPackage",e=>this.callHook("didLoadModule","components",e)],initApiPackage:["loadApiPackage",e=>(this.apiTransport=e.API,this.apiTransport)],initDataPackage:["loadDataPackage","initApiPackage",(e,t)=>(this.coreData=new e.CKCoreData({apiHostname:this.options.apiHostname,callHookImpl:this},t),this.coreData)],initComponentsPackage:["loadComponentsPackage",e=>{this.components=e.ComponentExports,this.callHook("onComponentsReady")}],dispatchInitHooks:["initApiPackage","initDataPackage","initComponentsPackage",()=>{this.callHook("didInitialize")}]},e)}async initializeDataStore(e){T()(this.coreData,"Data Package must be loaded and initialized before calling initializeDataStore(); Did you forget to call loadModules()?"),await Object(i.autoInject)(I({initDataPackage:()=>this.coreData,loadDataPackage:()=>this.submodules.data},this.initializeDataStoreTasks({documentInfo:e}))),await this.callHook("onReady")}initializeDataStoreTasks({documentInfo:e}){const t=Object(i.generateIRN)(e);return{loadConfiguration:["initDataPackage","loadDataPackage",(e,{Operations:n})=>n.loadConfiguration(e,t)],loadThreads:["initDataPackage","loadDataPackage",(e,{Operations:n})=>n.loadThreadsByIRN(e,t)],coreDataInit:["initDataPackage","loadConfiguration","loadThreads","loadDataPackage",async function(e,n,r,{Operations:o}){var i;await o.updateConfiguration(e,t,n),o.fullThreadsHydrate(e,t,r),o.syncUnreadsStatus(e,r.unreads.unreads),null===(i=e.initializationPromise)||void 0===i||i.resolve()}],dispatchOnDataReadyHook:["coreDataInit",()=>{this.callHook("onDataReady")}]}}async initializeMultiIRNDataStore(e){T()(this.coreData,"Data Package must be loaded and initialized before calling initializeDataStore(); Did you forget to call loadModules()?"),await Object(i.autoInject)(I({initDataPackage:()=>this.coreData,loadDataPackage:()=>this.submodules.data},this.initializeMultiIRNDataStoreTasks({rootIRN:e}))),await this.callHook("onReady")}initializeMultiIRNDataStoreTasks({rootIRN:e}){return{loadConfiguration:["initDataPackage","loadDataPackage",(t,{Operations:n})=>n.loadConfiguration(t,e).then(t=>({rootIRN:e,config:t}))],loadThreads:["initDataPackage","loadDataPackage",(t,{Operations:n})=>n.loadThreadsByMultiIRN(t,e)],coreDataInit:["initDataPackage","loadConfiguration","loadThreads","loadDataPackage",async function(e,t,n,{Operations:r}){var o;await r.updateConfiguration(e,t.rootIRN,t.config),r.createPagination(e,{irn:t.rootIRN,nextPageToken:n.nextPageToken}),r.syncMultiIRNDomains(e,n,t.config),null===(o=e.initializationPromise)||void 0===o||o.resolve()}],dispatchOnDataReadyHook:["coreDataInit",()=>{this.callHook("onDataReady")}]}}async callHook(e,...t){let n=0;const r=this.hooks[e],o=this.hookTypes[e];let a;for(;n<r.length;){const e=r[n];switch(o){case i.HookTypes.Notify:await e.apply(null,t);break;case i.HookTypes.Check:a=await e.apply(null,t);break;case i.HookTypes.Override:a=await e.apply(null,a?[a]:t)}if(e.once)r.splice(n,1);else{if(!1===a)break;n++}}return a}registerHook(e,t,n={}){const r=Object.assign(t,n),o=this.hooks[e];return o.push(r),()=>{const e=o.indexOf(r);e<0||o.splice(e,1)}}},E.defaultOptions={autoload:!1,apiHostname:null,documentInfo:null,analyticsMeasure:i.collect,featureOverrides:null},D=_((v=C).prototype,"options",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(v.prototype,"activeDomain",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v);function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function N(e,t,n){if(n){const r=Object(O.e)(t=>{let r;try{r=e()}catch(o){return Object(i.reportError)(o),void n(null,o,t)}try{n(r,null,t)}catch(o){Object(i.reportError)(o)}});return t.catch(e=>n(null,e,{dispose:r,trace:()=>{}})),r}return t?t.then(e):e()}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}N.once=function(e,t,n){return n&&t?(t.then(()=>n(e(),null)).catch(e=>n(null,e)),e()):t?t.then(e):e()};var F,z,K,H,B,V,W,G,Z=n("RA3J"),$=n("ufSo"),Y=n("PL9C");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Q(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let ee=(F=O.m.shallow,z=O.m.deep,H=Q((K=class{constructor(e,t,n){this.coreData=void 0,this._domain=void 0,this.config=void 0,this.irn=void 0,X(this,"isLoading",H,this),X(this,"error",B,this),X(this,"threads",V,this),X(this,"options",W,this),X(this,"hasInitalDatalLoaded",G,this),this.config=t.config,this.coreData=e,this.irn=t.irn;const{hasKeys:r}=e.stores.pagination,{nextPageToken:o=""}=r?e.stores.pagination.get(t.irn):{};this.options={includes:[i.Includes.INCLUDES_SUBRESOURCES],filterBy:i.FilterBy.FILTERBY_NONE,limit:i.DEFAULT_PAGINATION_LIMIT,nextPageToken:o},this.isLoading=!1,this.hasInitalDatalLoaded=!!n,this._domain=()=>t,this.threads=null!=n?n:[],Object(O.l)(this)}get domain(){return this._domain()}get threadsSortedByRecency(){return this.coreData.domainHelpers.getThreadsSortedByRecency(this.threads)}get hasNextPage(){var e,t;return(null!==(e=null===(t=this.options.nextPageToken)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0}get isLastPage(){var e;return""===(null===(e=this.options)||void 0===e?void 0:e.nextPageToken)}get isThreadsEmpty(){return 0===this.threads.length}get isViewDataLoading(){return!this.hasInitalDatalLoaded||this.isLoading&&0===this.threads.length}async requestPageWithCurrentOptions(){const e=await this.coreData.operations.loadThreadsByMultiIRN(this.irn,this.options),t=this.coreData.operations.syncMultiIRNDomains(e,this.config);return{nextPageToken:e.nextPageToken,subResourcesIncluded:e.subResourcesIncluded,threads:t}}handleFilterOptions({activeFilter:e,showResolved:t,includeSubResources:n=!0}){const r=i.FiltersMap.get(e);this.options.filterBy=r,this.options.includes=this.optionsSubsetToArray({activeFilter:e,showResolved:t,includeSubResources:n})}async loadInitialPage(e){try{Object(O.o)(()=>{this.hasInitalDatalLoaded=!1,this.isLoading=!0,this.threads=[],this.domain.clearAllThreads(),this.options.nextPageToken="",e&&this.handleFilterOptions(e)});const{threads:t,nextPageToken:n}=await this.requestPageWithCurrentOptions();Object(O.o)(()=>{this.options.nextPageToken=n,this.threads=t,this.isLoading=!1,this.hasInitalDatalLoaded=!0})}catch(t){Object(i.reportError)(t)}}async loadNextPage(e){try{if(this.hasNextPage){Object(O.o)(()=>{this.isLoading=!0,e&&this.handleFilterOptions(e)});const{threads:t,nextPageToken:n}=await this.requestPageWithCurrentOptions();Object(O.o)(()=>{this.options.nextPageToken=n,this.threads=[...this.threads,...t],this.isLoading=!1})}}catch(t){Object(i.reportError)(t)}}toggleLoading(e){this.isLoading=e}optionsSubsetToArray(e){const t=new Set;return e.includeSubResources?t.add(i.Includes.INCLUDES_SUBRESOURCES):t.delete(i.Includes.INCLUDES_SUBRESOURCES),e.showResolved?t.add(i.Includes.INCLUDES_RESOLVED):t.delete(i.Includes.INCLUDES_RESOLVED),[...t]}areOptionsEqual(e){return this.options.filterBy===i.FiltersMap.get(e.activeFilter)&&Object(Y.a)(this.options.includes,this.optionsSubsetToArray(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({includeSubResources:!0},e)))}}).prototype,"isLoading",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=Q(K.prototype,"error",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Q(K.prototype,"threads",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Q(K.prototype,"options",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=Q(K.prototype,"hasInitalDatalLoaded",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q(K.prototype,"domain",[O.g],Object.getOwnPropertyDescriptor(K.prototype,"domain"),K.prototype),Q(K.prototype,"threadsSortedByRecency",[O.g],Object.getOwnPropertyDescriptor(K.prototype,"threadsSortedByRecency"),K.prototype),Q(K.prototype,"hasNextPage",[O.g],Object.getOwnPropertyDescriptor(K.prototype,"hasNextPage"),K.prototype),Q(K.prototype,"isLastPage",[O.g],Object.getOwnPropertyDescriptor(K.prototype,"isLastPage"),K.prototype),Q(K.prototype,"isThreadsEmpty",[O.g],Object.getOwnPropertyDescriptor(K.prototype,"isThreadsEmpty"),K.prototype),Q(K.prototype,"isViewDataLoading",[O.g],Object.getOwnPropertyDescriptor(K.prototype,"isViewDataLoading"),K.prototype),Q(K.prototype,"handleFilterOptions",[O.d],Object.getOwnPropertyDescriptor(K.prototype,"handleFilterOptions"),K.prototype),Q(K.prototype,"toggleLoading",[O.d],Object.getOwnPropertyDescriptor(K.prototype,"toggleLoading"),K.prototype),K);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class re extends A{constructor(e){var t,n,r,o,a;if(super(),this.threads=void 0,this.domain=void 0,this.comments=void 0,this.collaborators=void 0,this.counts=void 0,this.filters=void 0,this.unreads=void 0,this.domainDataView=void 0,this.features=void 0,this.readyFired=!1,this.options=Object.assign(Object.assign({},re.defaultOptions),e),this.analyticsMeasure=(e,t={})=>{this.options.analyticsMeasure(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ckAnalyticsRevision:1},t))},this.threads=function(e){const t={all:()=>e.coreData.stores.thread.all(),get:async({documentInfo:t,threadID:n})=>e.coreData.getUpdatedThread(Object(i.generateIRN)(t),n),getThread:e=>(window.console&&console.warn("DEPRECATED call to [CommentKit].threads.getThread()"),t.findOrFetch(e)),findOrFetch:({documentInfo:t,irn:n,threadID:r})=>new Promise(o=>e.coreData.findOrFetch(t||n,r,o)),async create(t){let{domainId:n,comment:r}=t,o=x(t,["domainId","comment"]);T()(n,"A domain ID must be included when creating a thread"),T()(r,"An anchoring comment must be included when creating a thread");const i=e.coreData.startNewThread(n,o),{threadModel:a}=await e.coreData.saveNewThread(i,r);return a},createTemp:async({documentInfo:t,irn:n,thread:r={}})=>(T()(Boolean(null!=t?t:n),"A documentInfo object or an irn string must be included when creating a temp thread"),e.coreData.startNewThread(null!=t?t:n,r)),startNew:async e=>await t.createTemp(e),discardNew:async({thread:t})=>await e.coreData.discardTempThread(t),async update(t){let{id:n}=t,r=x(t,["id"]);const o=e.coreData.stores.thread.get(n);return await e.coreData.saveAndUpdateThread(o,r)},removeThreadFromStore({threadID:t}){const n=e.coreData.stores.thread.get(t);n&&e.coreData.operations.removeThreadFromStore(n)},setLastViewedThread:({thread:t})=>e.coreData.stores.thread.setLastViewedThread(t),getLastViewedThread:()=>e.coreData.stores.thread.lastViewedThread,getIsModalClicked:()=>e.coreData.stores.thread.isModalClicked,setThreadModalClicked:({value:t})=>e.coreData.stores.thread.setThreadModalClicked(t),getCollaboratorsLoaded:()=>e.coreData.stores.thread.areCollaboratorsLoaded,setCollaboratorsLoaded:()=>e.coreData.stores.thread.setCollaboratorsLoaded(),getThreadById:({threadID:t})=>e.coreData.stores.thread.get(t),markThreadRead:e=>t.markRead(e),markRead:async({thread:t})=>(setTimeout(()=>{const e=new CustomEvent("notifications.updateCount",{detail:{},bubbles:!0,cancelable:!0,composed:!1});document.dispatchEvent(e)},2e3),await e.coreData.operations.markReadThread(t)),findFromCommentId:async({commentId:t})=>await e.coreData.getThreadFromCommentID(t),loadPaginatedThreads:async(t,n)=>await e.coreData.operations.loadThreadsByMultiIRN(t,n)};return t}(this),this.domain=(a=this,{get:({irn:e})=>a.coreData.getDomain(e),getThreads:async({irn:e},t)=>N(()=>a.coreData.getDomain(e).threads,a.coreData.operations.refreshThreadsByIRN(e),t),setIsVisitor({isVisitor:e}){a.coreData.stores.domain.setIsVisitor(e)},getIsVisitor:()=>a.coreData.stores.domain.isVisitor}),this.comments=function(e){return{getUnread:t=>e.coreData.operations.getUnreadComments(t),discardDraft:({comment:t})=>e.coreData.discardDraft(t),updateComment:({comment:t,newCommentState:n})=>e.coreData.updateComment(t,n),updateDraftComment:({comment:t,commentText:n})=>e.coreData.updateDraftComment(t,{comment:n}),setEditingComment:({comment:t})=>e.coreData.stores.comment.setEditingComment(t),getCommentDraft:({comment:t})=>e.coreData.getCommentDraft(t),getEditingComment:()=>e.coreData.stores.comment.editingComment,setCommentToDelete:({comment:t})=>e.coreData.stores.comment.setCommentToDelete(t),setCommentSourceInCache({commentID:t,data:n}){e.coreData.cache.set("commentSource-"+t,n)},getCommentSourceInCache({commentID:t}){try{const n=e.coreData.cache.get("commentSource-"+t);if(n)return n}catch(n){}},deleteCommentSourceInCache({commentID:t}){e.coreData.cache.delete("commentSource-"+t)}}}(this),this.collaborators=function(e){return{me({irn:t=e.activeDomain,domain:n}){var r;const o=n||e.coreData.getDomain(t);return T()(o,"The SDK.collaborators.me() method must be passed a domain object, and irn string, or have the activeDomain set and loaded."),null!==(r=o.user)&&void 0!==r?r:null},invalidateCollaboratorCache({domain:t}){e.coreData.clearCollaboratorCache(t)},async getCollaborators(t){try{return await e.coreData.operations.getCollaborators(t)}catch(n){Object(i.reportError)(n)}}}}(this),this.counts=function(e){const t=()=>e.coreData.getFeature(i.FEATURE_LIST_KEYS.enableGetAggregatesCount);return{all:({domain:t},n)=>N(()=>e.coreData.operations.getCounts(t.irn),Promise.resolve(),n),async fetch({domain:n,irn:r,includeSubResources:o}){if(!t())return[];let i;if(n)i=n.irn;else{if(!r)throw new Error("ArgumentError: A domain or irn argument is required");i=r}const a=(await e.coreData.operations.fetchCounts({irn:i,includeSubResources:o})).toJSON();return(null==a?void 0:a.noAggregateCounts)?[]:a.aggregates},async fetchAll({domains:n,irns:r}){if(!t())return[];if(n&&r)throw new Error("ArgumentError: Using both domains and irns in a count request is not supported");let o;if(n)o=n.map(e=>e.irn);else{if(!r)throw new Error("ArgumentError: a domains or irns argument is required");o=r}return Promise.allSettled(o.map(t=>e.coreData.operations.fetchCounts({irn:t}).then(e=>{const t=e.toJSON();return(null==t?void 0:t.noAggregateCounts)?[]:t.aggregates}))).then(e=>e.map((e,t)=>M(M({},e),{},{irn:o[t]})))},getResolvedCount:({domain:t},n)=>N(()=>e.coreData.operations.getResolvedThreads(t.irn).length,e.coreData.operations.getCounts(t.irn),n),getUnreadCount({domain:t,type:n="threads"},r){switch(n){case"threads":return N(()=>e.coreData.operations.getUnreadThreads(t.irn).length,e.coreData.operations.getCounts(t.irn),r);case"comments":return N(()=>e.coreData.operations.getUnreadComments(t.irn).length,e.coreData.operations.getCounts(t.irn),r);default:throw new Error('ck.unreads.count(): The `type` option must be either "threads" (default) or "comments"')}},getReadCount({domain:t,type:n="threads"},r){switch(n){case"threads":return N(()=>e.coreData.operations.getReadThreads(t.irn).length,e.coreData.operations.getCounts(t.irn),r);case"comments":return N(()=>e.coreData.operations.getReadComments(t.irn).length,e.coreData.operations.getCounts(t.irn),r);default:throw new Error('ck.reads.count(): The `type` option must be either "threads" (default) or "comments"')}}}}(this),this.filters=function(e){return{addRule(t,n){e.coreData.stores.filter.addRule(t,n)},removeRule(t){e.coreData.stores.filter.removeRule(t)},replaceRule(t,n){Object(O.o)(()=>{const r=e.coreData.stores.filter.getRule(t);e.coreData.stores.filter.removeRule(t);const o=e.coreData.stores.filter.addRule(t,n);return o.enabled=r.enabled,o.negated=r.negated,o})},disableRule(t){e.coreData.stores.filter.disableRule(t)},enableRule(t){e.coreData.stores.filter.enableRule(t)},filter:t=>e.coreData.stores.filter.filter(t),test:t=>e.coreData.stores.filter.test(t),getRule:t=>e.coreData.stores.filter.getRule(t),negateRule(t){e.coreData.stores.filter.negateRule(t)},info:()=>e.coreData.stores.filter.ruleStates}}(this),this.unreads=function(e){return{count({domain:t,type:n="threads"},r){switch(n){case"threads":return N(()=>e.coreData.operations.getUnreadThreads(t).length,e.coreData.operations.getUnreads(t),r);case"comments":return N(()=>e.coreData.operations.getUnreadComments(t).length,e.coreData.operations.getUnreads(t),r);default:throw new Error('ck.unreads.count(): The `type` option must be either "threads" (default) or "comments"')}},comments:({domain:t},n)=>N(()=>e.coreData.operations.getUnreadComments(t),e.coreData.operations.getUnreads(t),n),threads:({domain:t},n)=>N(()=>e.coreData.operations.getUnreadThreads(t),e.coreData.operations.getUnreads(t),n)}}(this),this.domainDataView=function(e){return{init:t=>new ee(e.coreData,t,t.threads)}}(this),this.features=function(e){const t=function(e){return{init(){try{e.filters.addRule("sidebar_no_temp",Object(Z.a)("isNew",!1)),e.filters.addRule("sidebar_only_unread",Object(Z.a)("unread",!0)),e.filters.addRule("sidebar_mentioning_me",t=>t.comments.some(n=>Object($.a)("<@U"+e.collaborators.me(t.domain).id)(n.comment))),e.filters.addRule("sidebar_only_unresolved",Object(Z.a)("resolved",!1)),e.filters.disableRule("sidebar_only_unread"),e.filters.disableRule("sidebar_mentioning_me")}catch(t){t instanceof i.DuplicateFilterError||Object(i.reportError)(t)}},focusThread(t){e.emit(i.SidebarEvents.SIDEBAR_FOCUS_THREAD,t)},blurThread(){e.emit(i.SidebarEvents.SIDEBAR_BLUR_THREAD)}}}(e),n=function(e){let t=!1;return{init(n){e.registerHook("didInitialize",()=>{n&&n instanceof Object&&!(n instanceof Array||n instanceof Function)&&e.coreData.stores.feature.merge(n),t=!0})},get:n=>t?e.coreData.stores.feature.get(n):(window.console&&console.warn("[commentkit] must be intialized before getting an option value"),!1),set:(n,r)=>t?e.coreData.stores.feature.set(n,r):(window.console&&console.warn("[commentkit] must be intialized before getting an option value"),!1)}}(e);return n.init(e.options.featureOverrides),{sidebar:t,options:n}}(this),this.options.documentInfo&&this.options.irn)throw new Error('CommentKit config error: "documentInfo" and "irn" options are mutually exclusive; provide one or the other, but not both.');this.options.irn&&(this.options.documentInfo=Object(i.parseIRN)(this.options.irn)),delete this.options.irn,T()(this.options.apiHostname,"An API Hostname must be provided for CommentKit"),this.options.autoload&&(console.warn("[DEPRECATION NOTICE] autoloading in CommentKit has been deprecated."),this.options.documentInfo?this.loadModulesAndInitDatastore(this.options.documentInfo):this.loadModules());const c=null===(t=window)||void 0===t||null===(n=t.inGlobalContext)||void 0===n||null===(r=n.appShell)||void 0===r||null===(o=r.currentApp)||void 0===o?void 0:o.getFeatureContext();c&&c.once("after:unmount",()=>{delete window.commentKitUIWebpackJSONP})}autorun(e){return Object(O.e)(e)}reaction(e,t){return Object(O.n)(e,t)}onReady(e){return e?this.readyFired?(e(),()=>{}):this.registerHook("onReady",e,{once:!0}):this.readyFired?Promise.resolve(!0):new Promise(e=>{this.registerHook("onReady",()=>e(!0),{once:!0})})}async loadDocument(e){let t;return t="string"==typeof e?Object(i.parseIRN)(e):e,await this.initializeDataStore(t)}async loadMultiIRNDocument(e){return await this.initializeMultiIRNDataStore(e)}createProjection(e){return this.coreData.createProjection(e)}getDomain(e){return this.coreData.getDomain(e)}getMultipleIRNDomainType(e){return this.coreData.getMultipleIRNDomainType(e)}generateIRN(e){return Object(i.generateIRN)(e)}setIsVisitor(e){this.domain.setIsVisitor({isVisitor:e})}activateDomain(e){this.activeDomain="string"==typeof e?e:e.irn}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){var t,n=Object(i.useOnceResolved)((function(){return Promise.all([d(),f(),m()])})),r=n.isLoading,o=n.isLoaded,a=n.result;if(n.isError)return null===(t=console)||void 0===t||t.error(a),s.a.createElement("span",{"aria-label":"Comments failed to load"});if(r||!o)return s.a.createElement("span",{"aria-label":"Loading comments..."});var c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),3!==n.length);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return oe(e,3);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,3):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a),u={API:c[0].API,DATA:c[1].CKCoreData},l=c[2].ComponentExports;return e.children&&"function"==typeof e.children?s.a.createElement(s.a.Fragment,null,e.children(u,l,i,a)):s.a.createElement(y,{CKMain:u,CKComponents:l,CKUtils:i})}!function(){var e,t,n=document.getElementById(null!==(e=window.CK_REACT_ROOT_ID)&&void 0!==e?e:"app-shell:feature-root:comment-kit-ui");if(n)try{t=n,window.document.body.style.margin="0",l.a.render(s.a.createElement(ie,null,(function(e,t,n){return s.a.createElement(y,{CKMain:e,CKComponents:t,CKUtils:n})})),t)}catch(r){r.message="[commentkit] error in initCommentKitUIAsHostApp"+r.message,Object(i.reportError)(r)}}(),o()({name:"comment-kit-ui",getResourceInterface:function(){try{return re}catch(e){e.message="[commentkit] error creating runtime provided resources"+e.message,Object(i.reportError)(e)}}})},XX9q:function(e,t){},cDcd:function(e,t){e.exports=inGlobalContext.runtimeProvidedResources.mappings.react["16.x.x"]},cdPx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n("1pCU"),o=n.n(r);const i=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.))/i,a={protocols:["https","http"],require_protocol:!0};function c(e){try{return o()(e,a)}catch(t){return!1}}},eYwb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("cDcd"),o=n("xEe2");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){const[t,n]=Object(r.useState)({isLoading:!1,isLoaded:!1,isError:!1,result:null}),{isLoading:i,isLoaded:c,isError:s}=t;return Object(r.useEffect)(()=>{try{(async()=>{if(!(c||i||s))try{n(a(a({},t),{},{isLoading:!0}));const r=await e();n(a(a({},t),{},{isLoading:!1,result:r,isLoaded:!0}))}catch(r){n(a(a({},t),{},{isLoading:!1,result:r,isLoaded:!1,isError:!0}))}})().catch(e=>{e.message="[commentkit] init err useOnceResolved"+e.message,Object(o.c)(e)})}catch(r){r.message="[commentkit] error in useOnceResolved"+r.message,Object(o.c)(r)}},[t,s,c,i,e]),t}},fADB:function(e,t,n){"use strict";n.r(t);var r=n("4pv7");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n("rfBR");n.d(t,"getThreadColorFromType",(function(){return i.a})),n.d(t,"getThreadTypeFromColor",(function(){return i.b}));var a=n("tkZM");n.d(t,"threadDataToMarkerProps",(function(){return a.a}));var c=n("5wd+");n.d(t,"generateIRN",(function(){return c.a})),n.d(t,"parseIRN",(function(){return c.b}));var s=n("NMfz");n.d(t,"sanitizeID",(function(){return s.a}));var u=n("WX45");n.d(t,"formatDatetime",(function(){return u.a}));var l=n("9FeA");n.d(t,"CLIENT_IDS",(function(){return l.a})),n.d(t,"FEATURE_LIST_KEYS",(function(){return l.d})),n.d(t,"FEATURE_DEFAULTS_KEYS",(function(){return l.c})),n.d(t,"FEATURE_DEFAULTS",(function(){return l.b})),n.d(t,"initFeaturesClient",(function(){return l.g})),n.d(t,"buildUserIdentity",(function(){return l.e})),n.d(t,"getFeatureVariations",(function(){return l.f}));var d=n("oexy");n.d(t,"HookTypes",(function(){return d.a}));var f=n("5bX6");n.d(t,"autoInject",(function(){return f.a}));var m=n("GxHE");n.d(t,"defer",(function(){return m.a}));var p=n("rvun");n.d(t,"collect",(function(){return p.a}));var h=n("9tAK");n.d(t,"CKMeasureContext",(function(){return h.b})),n.d(t,"CKMeasureProvider",(function(){return h.c})),n.d(t,"CKMeasureConsumer",(function(){return h.a})),n.d(t,"withScopedMeasure",(function(){return h.d}));var b=n("wi2Y");n.d(t,"NEW_LINE",(function(){return b.k})),n.d(t,"SPACE",(function(){return b.n})),n.d(t,"AT",(function(){return b.a})),n.d(t,"CK_EMAIL_RE",(function(){return b.d})),n.d(t,"CK_AT_EMAIL_RE",(function(){return b.c})),n.d(t,"EMAIL_RE",(function(){return b.f})),n.d(t,"EMAIL_TOKENIZED_RE",(function(){return b.g})),n.d(t,"TOKEN_RE",(function(){return b.q})),n.d(t,"BACKSPACE_CODE",(function(){return b.b})),n.d(t,"SPACE_CODE",(function(){return b.o})),n.d(t,"UP_ARROW_CODE",(function(){return b.r})),n.d(t,"DOWN_ARROW_CODE",(function(){return b.e})),n.d(t,"RIGHT_ARROW_CODE",(function(){return b.m})),n.d(t,"LEFT_ARROW_CODE",(function(){return b.j})),n.d(t,"ENTER_CODE",(function(){return b.h})),n.d(t,"ESC_CODE",(function(){return b.i})),n.d(t,"TAB_CODE",(function(){return b.p})),n.d(t,"NULL_INPUT",(function(){return b.l})),n.d(t,"addAt",(function(){return b.s})),n.d(t,"tokenize",(function(){return b.M})),n.d(t,"tokenizeEmail",(function(){return b.N})),n.d(t,"collabIndexList",(function(){return b.t})),n.d(t,"parseInput",(function(){return b.G})),n.d(t,"sourcifyInput",(function(){return b.J})),n.d(t,"computeActive",(function(){return b.u})),n.d(t,"computeEmojiTypeahead",(function(){return b.y})),n.d(t,"computeTerm",(function(){return b.z})),n.d(t,"getInviteEmails",(function(){return b.D})),n.d(t,"withHandle",(function(){return b.O})),n.d(t,"handle2Collaborator",(function(){return b.E})),n.d(t,"toWords",(function(){return b.L})),n.d(t,"toChunks",(function(){return b.K})),n.d(t,"createWord",(function(){return b.A})),n.d(t,"wordIndex",(function(){return b.P})),n.d(t,"parseSource",(function(){return b.H})),n.d(t,"parseSourceStatic",(function(){return b.I})),n.d(t,"computeCanInvite",(function(){return b.v})),n.d(t,"isCharacterStartOfMention",(function(){return b.F})),n.d(t,"computeContentWithMention",(function(){return b.x})),n.d(t,"computeContentWithEmoji",(function(){return b.w})),n.d(t,"getCollaboratorsWithDuplicates",(function(){return b.B})),n.d(t,"getHandlesList",(function(){return b.C}));var g=n("cdPx");n.d(t,"URL_RE",(function(){return g.a})),n.d(t,"isValidUrl",(function(){return g.b}));var y=n("eYwb");n.d(t,"useOnceResolved",(function(){return y.a}));var O=n("JmLI");n.d(t,"maybePluralize",(function(){return O.b})),n.d(t,"spaceAfter",(function(){return O.c})),n.d(t,"spaceBefore",(function(){return O.d})),n.d(t,"jaro",(function(){return O.a}));var v=n("2ooL");n.d(t,"DEFAULT_EMOJI_LIST",(function(){return v.a}));var D=n("xEe2");n.d(t,"DuplicateFilterError",(function(){return D.a})),n.d(t,"FilterNotFoundError",(function(){return D.b})),n.d(t,"reportError",(function(){return D.c}));var w=n("W3Zx");n.d(t,"EventNames",(function(){return w.c})),n.d(t,"EventLocations",(function(){return w.b})),n.d(t,"EventTriggers",(function(){return w.d})),n.d(t,"EventCommentTypes",(function(){return w.a}))},faye:function(e,t){e.exports=inGlobalContext.runtimeProvidedResources.mappings["react-dom"]["16.x.x"]},iX8j:function(e,t){},oXe4:function(e,t){e.exports=inGlobalContext.runtimeProvidedResources.peerDependencies["comment-kit-ui"]["@invisionapp/helios"].dependency},oexy:function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e[e.Notify=0]="Notify",e[e.Check=1]="Check",e[e.Override=2]="Override"}(r||(r={}))},q0rG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=100},rfBR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("4pv7");function o(e){return e>r.ThreadColorOptions.length-1?r.DEFAULT_COLOR:r.ZeroIndexedThreadColorOptions[e]}function i(e){const t=r.ThreadColorOptions.indexOf(e);return t>=0?t+1:1}},rvun:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const r=[];function o(e,t={}){var n,o;const i=null===(n=window)||void 0===n||null===(o=n.measure)||void 0===o?void 0:o.collect;if(i){for(;r.length>0;)i(...r.shift());i(e,t)}else r.push([e,t])}o.queue=r},tPgs:function(e,t){},tkZM:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return o(o({},e),{},{markerNumber:t+1,threadId:e.id,isPrivate:e.privatized,isResolved:e.resolved,isHighlighted:e.isHighlighted})}n.d(t,"a",(function(){return a}))},vNQ8:function(e,t,n){"use strict";let r,o,i;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),function(e){e.SMALLER="24",e.SMALLEST="32",e.LARGER="40",e.LARGEST="48"}(r||(r={})),function(e){e.PRIMARY="primary-100",e.SURFACE_100="surface-100",e.SURFACE_20="surface-20",e.SURFACE_80="surface-80",e.SURFACE_50="surface-50",e.SURFACE_0="surface-0",e.SUCCESS="success-100",e.WARNING="warning-100",e.DESTRUCTIVE="destructive-100",e.COMPONENT="component-100",e.FOLDER="folder-100",e.BLACK="constants-black",e.WHITE="constants-white"}(o||(o={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e.BRAND="brand",e.DANGER="danger",e.INFO="info",e.STRUCTURE="structure",e.SUCCESS="success",e.TEXT="text",e.WARNING="warning"}(i||(i={}));const a=i.BRAND,c=[i.BRAND,i.WARNING,i.INFO,i.SUCCESS],s=[i.BRAND,...c]},wi2Y:function(e,t,n){"use strict";n.d(t,"k",(function(){return m})),n.d(t,"n",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return v})),n.d(t,"q",(function(){return w})),n.d(t,"b",(function(){return _})),n.d(t,"o",(function(){return A})),n.d(t,"r",(function(){return x})),n.d(t,"e",(function(){return N})),n.d(t,"m",(function(){return L})),n.d(t,"j",(function(){return M})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return F})),n.d(t,"p",(function(){return z})),n.d(t,"l",(function(){return H})),n.d(t,"s",(function(){return B})),n.d(t,"M",(function(){return V})),n.d(t,"N",(function(){return W})),n.d(t,"t",(function(){return G})),n.d(t,"G",(function(){return Z})),n.d(t,"J",(function(){return $})),n.d(t,"u",(function(){return Y})),n.d(t,"y",(function(){return q})),n.d(t,"z",(function(){return J})),n.d(t,"D",(function(){return X})),n.d(t,"O",(function(){return Q})),n.d(t,"E",(function(){return ee})),n.d(t,"L",(function(){return te})),n.d(t,"K",(function(){return ne})),n.d(t,"A",(function(){return re})),n.d(t,"P",(function(){return le})),n.d(t,"H",(function(){return de})),n.d(t,"I",(function(){return fe})),n.d(t,"v",(function(){return me})),n.d(t,"F",(function(){return pe})),n.d(t,"x",(function(){return he})),n.d(t,"w",(function(){return be})),n.d(t,"B",(function(){return ge})),n.d(t,"C",(function(){return ye}));var r=n("8tBo"),o=n("jKvo"),i=n("j4OS"),a=n("DJbE"),c=n("VqDq"),s=n("7fF4"),u=n("cdPx");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m="\n",p=" ",h="@",b=/^[a-zA-Z0-9_+&*-]+(?:\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,7}$/,g=/^[@+][^@]+[a-zA-Z0-9_+&*-]+(?:\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,7}$/,y=/[^@]+@[^\\.]+\..+$/,O=/[@|\uff20]/,v=/<\+E[a-zA-Z0-9_+&*-]+(?:\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,7}>/,D=/\B^(?!@<@|@:[a-z0-9_+-]+:)@([\S]+)/,w=/@?<@U(\w+)>/,E=/:([a-z0-9_+-]+):/,C=/:([a-z0-9_+-]+):?/,R=/\S+?(?=:)/,j=/[\s\n\r]/,T=[u.a,D,w,E,R,/\S+/,j],P=[u.a,D,w,/@?<\+E(\S+)>/,E,R,/[\n\r]/,/(?:(?!<@|<\+E|:([a-z0-9_+-]+):|(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.))).)*/],I=Object(r.a)(Object(o.a)("|"),Object(i.a)("source")),S=new RegExp(I(T),"gi"),k=new RegExp(I(P),"gi"),_=8,A=32,x=38,N=40,L=39,M=37,U=13,F=27,z=9,K=[U,F,A],H={keyCode:null,position:null,text:""};function B(e){let t="";return t=e.length>0?e+"@":"@",t}function V({id:e}){return`<@U${e}>`}function W({email:e}){return`<+E${e}>`}const G=e=>null==e?void 0:e.reduce((e,t)=>(e[t.id]=t,e),{}),Z=(e=H,t={},n,r,o,i,a)=>{const{source:c,mentioned:s,privateMentioned:u,invalidPrivateMentions:l,invalidMentions:d,emails:f,words:m=[]}=$(e.text,t,n,r,o,i,a),p=Y({input:e,words:m}),h=q({input:e,words:m}),b=J(e),g=y.test(b),O=X(m);return{active:p,invalidMentions:d,emails:f,mentioned:s,privateMentioned:u,invalidPrivateMentions:l,source:c,emojiTypeahead:h.active,emojiTerm:h.term,position:e.position,text:e.text,words:m,term:b,isTermEmail:g,inviteEmails:O}};function $(e,t,n,r,o,i,c){if(!e)return{};const s=te(e,t,n,!1,i),u={},l=s.map(e=>{var t;if(!e.handle)return e;let n,i=0,a="";for(const r in o)-1!==e.handle.indexOf(r)&&r.length>i&&(i=r.length,n=o[r],a=e.handle.slice(r.length));(null===(t=n)||void 0===t?void 0:t.id)&&(u[n.id]=n);const s=g.test(e.text);if(!s||r||c||(n=e.handle),!n)return e;let l;return l=s?W({email:n}):`${V({id:n.id})}${a}`,{value:l}}).map(Object(a.a)("value")).join(""),d=ae(s,o,c),f=ce(s),m=se(u),p=ue(u);return{source:l,emails:f,mentioned:u,invalidMentions:d,words:s,privateMentioned:m,invalidPrivateMentions:p}}function Y({input:e,words:t}){if(K.includes(e.keyCode))return!1;const{keyCode:n,position:r,text:o}=e;if(!o||K.includes(n))return!1;const i=t[le(t,r)];return!(!i||!i.hasAt)}function q({input:e,words:t}){if(K.includes(e.keyCode))return{active:!1,term:null};const{keyCode:n,position:r,text:o}=e;if(!o||K.includes(n))return{active:!1,term:null};const i=t[le(t,r,!1)];if(!i)return{active:!1,term:null};if(":"===i.text)return{active:!0,term:null};const a=i.text.match(C);return a&&0!==a.length?":"===i.text.slice(-1)&&r===i.end-1?{active:!1,term:null}:{active:!0,term:a[1]}:{active:!1,term:null}}function J(e){const{text:t,position:n}=e;if(!t)return"";let r=n;for(;t[r]&&" "!==t[r];)r--;return(t.substring(Math.max(r+1,0),n+1)||"").replace(O,"")}function X(e){const t={};return e.filter(e=>{const n=e.isEmail&&!t[e.email];return t[e.email]=!0,n}).map(e=>(e.role="member",e))}const Q=(e={})=>{var t;return e.handle=null===(t=e.name)||void 0===t?void 0:t.replace(/\s+/g,""),e},ee=e=>{const t={};for(const n in e){const r=Q(e[n]);t[r.handle]=r}return t},te=(e="",t={},n=!1,r=!1,o)=>{const i=e.match(S);if(!i)return[];const a=re(t,n,r,o),c=[],s={};let u=0;const l=i.length;for(;u<l;){const e=a(i[u]);s[u]=(s[u-1]||0)+e.text.length,c.push(ie(e,u,s[u])),u++}return c},ne=(e="",t={},n=!1,r)=>{const o=e.match(k);if(!o)return[];const i=re(t,n,!0,r),a=[],c={};let s=0;const u=o.length;for(;s<u;){const e=i(o[s]);c[s]=(c[s-1]||0)+e.text.length,a.push(ie(e,s,c[s])),s++}return a},re=(e={},t,n,r)=>(o="")=>{let i=o,a=null,c=null;if(r)if(a=w.exec(i),a&&a.length){const t=a[1],n=e[t];let r=a[2],o={};n&&n.handle&&(r=n.handle,o={email:n.email,name:n.name,avatarUrl:n.avatarUrl,canComment:n.canComment,mentionable:n.mentionable}),a={handle:"@"+r,popover:o,id:t},i=""+a.handle}else{a=null;const e=D.exec(i);e&&e[1]&&(c=e[1])}const s=v.test(i),l=g.test(i),d=Object(u.b)(i),f=E.test(i),m={text:i,isWhitespace:j.test(i),isEmoji:f,isEmail:l,isUrl:d,hasAt:oe({text:i}),embedded:a,handle:c,length:i.length,value:o,email:null,emojiId:f?o.slice(1,-1):null};if(s){const e=m.text.trim().slice(3,-1);m.email=e,m.text="+"+e,m.length=m.text.length,m.isEmail=!0}else l&&t&&!n&&(m.email=m.text.slice(1),m.value=W({email:m.email}),m.isEmail=!0);return m};function oe({text:e}){if(e)return O.test(e[0])}const ie=(e,t,n)=>(e.end=n,e.index=t,e.start=Math.max(n-e.length,1),e),ae=(e=[],t={},n=!1)=>{const r=Object.keys(t);return e.reduce((e,t)=>((t&&!t.embedded&&t.handle&&!r.some(e=>-1!==t.handle.indexOf(e))&&!t.isEmail||t.isEmail&&n)&&e.push(t.handle),e),[])},ce=(e=[])=>e.reduce((e,t)=>(t&&t.isEmail&&e.push(t.email),e),[]),se=e=>Object.values(e).filter(e=>e.canPrivate).reduce((e,t)=>(e[t.id]=t,e),{}),ue=Object(c.a)(Object(s.a)(Object(a.a)("canPrivate")));function le(e=[],t,n=!1){return e.findIndex(e=>0===t||1===t||t+1>=e.start&&t+1<=e.end||n&&e.end===t)}function de(e="",t={},n=!1,r,o=!0){const{index:i,words:a,text:c}=function(e="",t={},n=!1,r){const o={};for(const c in t)o[c]=Q(t[c]);const i=te(e,o,n,!0,r),a=i.reduce((e,t)=>e+t.text,"");return{index:o,words:i,text:a}}(e,t,n,o),s=a.reduce((e,t)=>{const{id:n}=(null==t?void 0:t.embedded)||{};if(n&&i[n])e[n]=i[n];else{const n=r[t.handle];(null==n?void 0:n.id)&&(e[n.id]=n)}return e},{}),u=se(s),l=ae(a,t),d=ue(s),f=X(a);return{index:i,words:a,invalidMentions:l,emails:ce(a),mentioned:s,privateMentioned:u,invalidPrivateMentions:d,inviteEmails:f,source:e,text:c}}function fe(e="",t={},n=!1,r=!0){const{index:o,words:i,text:a}=function(e="",t={},n=!1,r){const o={};for(const c in t)o[c]=Q(t[c]);const i=ne(e,o,n,r),a=i.reduce((e,t)=>e+t.text,"");return{index:o,words:i,text:a}}(e,t,n,r);return{index:o,words:i,source:e,text:a,invalidMentions:[],emails:[],mentioned:[],privateMentioned:[],invalidPrivateMentions:[],inviteEmails:[]}}function me(e,t,n){return!1}const pe=(e,t)=>e.slice(t,t+1)===h&&(e.slice(t-1,t)===p||""===e.slice(t-1,t)||e.slice(t-1,t)===m),he=(e,t,n,r)=>{let o=e+t;if(pe(e,n))if(r){const r=e.slice(0,n+1),i=p+h+t;if(n+2<e.length-1||0===n){const a=e.slice(0,n),c=r[r.length-2]===p,s=e.slice(n+1),u=s[0]===p;o=c&&u?r+t+s:c||u?c?r+t+p+s:a+i+s:a+i+p+s}else o=r[r.length-2]!==p?e.slice(0,e.length-1)+i:e+t}else o=e.slice(n+1,n+2)!==p&&""!==e.slice(n+1,n+2)?e.slice(0,n+1)+t+p+e.slice(n+1):e.slice(0,n+1)+t+e.slice(n+1);else{let r=n;for(;!pe(e,r-1)&&r>=0;)r-=1;o=e.slice(n+1,n+2)!==p&&""!==e.slice(n+1,n+2)?e.slice(0,r)+t+p+e.slice(n+1):e.slice(0,r)+t+e.slice(n+1)}return o.trim()+p},be=(e,t,n,r)=>{let o=n-1;for(;o>0&&":"!==e[o];)o--;let i=n;for(;i<e.length;){switch(e[i]){case":":i++;break;case p:break;default:i++;continue}break}return`${e.slice(0,o)}:${t}:${e.slice(i)} `};function ge(e){const t={};return e.sort((e,t)=>e.isMember!==t.isMember?e.isMember?-1:1:e.email.localeCompare(t.email)),e.map(e=>{const n=e.name.trim();if(t[n]){let r=1;Object.keys(t).forEach(e=>{e.replace(/\s[0-9]/g,"")===n.replace(/\s[0-9]/g,"")&&r++});const o=`${n} ${r}`;return t[o]=!0,d(d({},e),{},{name:o})}return t[n]=!0,e})}function ye(e){const t=G(e.thread.domain.users),n=ee(t),r=de(e.comment,t,!1,n);return Object.values(r.mentioned).map(e=>e.handle)}},xEe2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));class r extends Error{}class o extends Error{}function i(e,t){try{window.inGlobalContext.appShell.currentApp.getFeatureContext().getRuntimeProvidedResource("bugsnag",{}).then(n=>{var r,o;const i=n.getClient();if(i)return!e.message.match("[commentkit]")&&e.message&&e.stack&&(e.message="[commentkit] "+e.message,e.stack="[commentkit] "+e.stack),void i.notify(e);null===(r=window.console)||void 0===r||null===(o=r.error)||void 0===o||o.call(r,"[commentkit] Bugsnag not found.",{error:e,errorInfo:t})}).catch(n=>{var r,o;null===(r=window.console)||void 0===r||null===(o=r.error)||void 0===o||o.call(r,"[commentkit] Error in reporter.",{errorInReporter:n,error:e,errorInfo:t})})}catch(o){var n,r;null===(n=window.console)||void 0===n||null===(r=n.warn)||void 0===r||r.call(n,"[commentkit] errorInComponentCatch",{errorInComponentCatch:o})}}}},[[0,5,7]]])}));
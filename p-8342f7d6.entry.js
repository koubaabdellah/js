import{r as i,c as n,d as t,h as e,g as a}from"./p-ae706b1d.js";import{B as s}from"./p-150435d0.js";import{C as d}from"./p-288518a7.js";const l=class{constructor(t){i(this,t),this.navHeaderClicked=n(this,"navHeaderClicked",7),this.childClickEvent=n(this,"childClickEvent",7),this.removeActiveClass=n(this,"removeActiveClass",7),this.currentURL=window.location.href,this.applyFlush=!1,this.isInternalLink=!0}navGroupHandler(){this.child&&this.child.length>0&&this.base.createNestedMarkup(this.navGroupContainer,"dxp-nav-item-content",this.child)}quickLinksHandler(){if(this.quickLinks.length>0){for(const i of this.quickLinks){i["title-text"]=i.quickLinkDescription,i.orientation="vertical";for(const n of i.ctaList)n.title&&(n.text=n.title,n.type="link",n.src=n.image,n.href=n.link,n.alt=n.imageAltText,n["align-icon"]="left")}this.quickLinks[0].titleStyle="dxp-title-sm",this.quickLinks[0].orientation="vertical"}"deep-nav"!==this.navType&&this.base.createNestedMarkup(this.quickLinksContainer,"dxp-cta-list",this.quickLinks)}componentWillLoad(){this.base=new s(this,t),this.utility=new d,this.element.setAttribute("role","none")}async componentDidLoad(){const i=this.element.querySelector(".dxp-cta-list"),n=i&&i.querySelectorAll("a");if(this.navType=this.element.parentElement.getAttribute("data-nav-type"),this.quickLinks&&this.quickLinksHandler(),this.child&&this.navGroupHandler(),this.setActiveMenuRoute(),await this.defaultActionOnFocus(),n)for(const i of Object.keys(n))n[i].setAttribute("role","menuitem");this.subNavChildContainer.innerText.trim().length||this.subNavChildContainer.setAttribute("role","none")}async componentDidUpdate(){await this.defaultActionOnFocus()}async defaultActionOnFocus(){const i=this.element.querySelector("dxp-cta-list");let n;if(i&&(await i.componentOnReady().then((i=>{if(i){const t=i.querySelector("p");t&&(t.classList.add("dxp-hidden-md-down"),t.classList.add("dxp-lg-block")),n=i.querySelector("dxp-cta")}})),n&&n.length))for(const i of n)await i.componentOnReady().then((i=>{(i&&i.querySelector("a")).setAttribute("tabindex","-1")}));this.addMenuIems()}addMenuIems(){const i=[],n=this.element.parentElement.querySelectorAll("dxp-nav-menu");for(const t of n){const n=t.querySelector("li.nav-item-li");i.push(n)}this.utility.setPosNSize(i)}parentNavHandler(){const i=this.element.querySelector("li");if(this.overlayBgImage?this.utility.openOverlay(i,this.overlayBgImage):this.utility.openOverlay(i),this.navHeaderClicked.emit(i),i.querySelector("dxp-deep-nav-container")&&this.applyFlush){i.querySelector("dxp-deep-nav-container").querySelectorAll("dxp-deep-nav-item").forEach((n=>{if(n.classList.contains("active-item")){this.handleActiveItems(n);const t=n.querySelectorAll("dxp-deep-nav");i.querySelector("dxp-deep-nav-container").hideNestedNavItem(t)}}));const n=i.querySelectorAll(".dxp-block");for(const i of Object.keys(n))n[i].classList.remove("dxp-block")}this.applyFlush=!0}handleActiveItems(i){i.querySelector("a")&&i.querySelector("a").classList.remove("activelink"),i.querySelector("a span")&&i.querySelector("a span").classList.remove("navigation-active");const n=i.querySelector(".dxp-icons");n&&(n.classList.remove("activelink"),n.classList.remove("navigation-active"),n.classList.remove("dxp-i-minus"),n.classList.add("dxp-i-angle-down"),i.classList.remove("active-item"))}preventDefaultBehaviour(i,n){-1!==[32,37,38,39,40].indexOf(i)&&n.preventDefault()}setActiveMenuRoute(){if(this.menuRouteLink){const i=this.element.querySelector("li"),n=i.querySelector("a").href.split("/").pop().toString();this.currentURL.includes(n)&&i.classList.add("active")}}setMenuItemActive(){const i=this.element.querySelector("li");i.querySelector(".dxp-icons").classList.remove("dxp-i-angle-down"),i.querySelector(".dxp-icons").classList.add("dxp-i-minus"),i.classList.add("active"),"md"!==this.base.getDeviceWidthType()&&"sm"!==this.base.getDeviceWidthType()||(i.classList.add("in"),i.querySelector(".nav-menu-icon").classList.remove("dxp-i-angle-down"),i.querySelector(".sub-nav-child-container").classList.add("show","expanded"))}focusElement(i){i.focus()}selectFirstLink(i,n,t){const e=this.element.querySelector("dxp-cta-list"),a=this.element.querySelector(".sub-nav-item");if(i&&"true"===n&&(40===t||38===t)){let i,n;if(e&&(i=e.querySelector("dxp-cta")?e.querySelector("dxp-cta"):e.querySelector("dxp-link"),n=i&&i.querySelector("a")),n)return void this.focusElement(n);a&&this.focusElement(a)}}selectSubMenuItemQuickLink(i,n,t,e){if(i&&n&&!t&&38===e&&this.subNavChildContainer){const i=this.subNavChildContainer.querySelector("dxp-cta-list");let n;i&&(n=i.querySelector("dxp-cta")?i.querySelectorAll("dxp-cta"):i.querySelectorAll("dxp-link"));const t=n&&n[n.length-1].querySelector("a");t&&this.focusElement(t)}}clickEventHandler(i){this.base.routingEventListener(i),this.childClickEvent.emit(i.target),this.removeActiveClass.emit()}async triggerEventItemNavMenu(){this.setMenuItemActive()}showHideMenuWithKeyDown(i){const n=i.target,t=n.classList.contains("nav-item"),e=n.getRootNode&&n.getRootNode().host?n.getRootNode().host.closest("dxp-nav"):n.closest("dxp-nav"),a=e.querySelector(".dxp-i-cross"),s=n.getAttribute("aria-expanded"),d=n.closest("dxp-cta")?n.closest("dxp-cta"):n.closest("dxp-link"),l=d&&!d.nextElementSibling,o=n.classList.contains("sub-nav-item"),p=n.closest("dxp-nav-item-content"),r=p&&p.nextElementSibling,c=p&&p.previousElementSibling,h=i.keyCode;if(this.preventDefaultBehaviour(h,i),this.menuRouteLink||!t||13!==h&&32!==h||this.parentNavHandler(),n.closest(".sub-nav-child-container")&&9===h&&this.parentNavHandler(),!t||"true"!==s||9!==h&&27!==h||this.parentNavHandler(),this.selectFirstLink(t,s,h),l&&40===h){const i=this.subNavChildContainer.querySelector(".sub-nav-item");if(i)return void this.focusElement(i);e&&this.focusElement(a)}if(n&&o&&r&&40===h){const i=r.querySelector(".sub-nav-item");i&&this.focusElement(i)}if(n&&o&&c&&38===h){const i=c.querySelector(".sub-nav-item");i&&this.focusElement(i)}n&&o&&!r&&40===h&&this.focusElement(a),this.selectSubMenuItemQuickLink(n,o,c,h),!t||"true"===s||40!==h&&38!==h||this.parentNavHandler()}render(){return t.log.debug("in dxp-nav-menu render() : PRODUCTION"),e("li",{class:`nav-item-li ${this.base.componentClass()}`,dir:this.dir,"data-theme":this.theme,role:"none"},this.menuRouteLink?e("a",{class:this.button?"link-as-cta nav-item h5":"nav-item h5",role:"menuitem",rel:this.isInternalLink?"":"noopener",target:this.openInNewTab?"_blank":"_self",href:this.menuRouteLink},t.localeTranslator.translate(this.navigationTitle)):e("span",{class:this.button?"link-as-cta nav-item h5":"nav-item h5",tabindex:"0",onClick:()=>{this.parentNavHandler()},role:"menuitem","aria-haspopup":"true","aria-label":t.localeTranslator.translate(this.accessibilityText?this.accessibilityText:this.linkTitle)},t.localeTranslator.translate(this.navigationTitle),e("span",{class:"nav-menu-icon dxp-icons dxp-i-angle-down"})),e("div",{role:"menu",class:"sub-nav-child-container "+("deep-nav"===this.navType?"sub-nav-container":""),ref:i=>this.subNavChildContainer=i},e("div",{class:"quick-links-container dxp-col-lg-3",role:"none",ref:i=>this.quickLinksContainer=i},e("slot",null),"Â "),"deep-nav"===this.navType?e("div",{class:"dxp-col-lg-12",role:"none"},e("dxp-deep-nav-container",{role:"none",quickLinks:this.quickLinks,deepNavData:this.deepNavData})):this.child&&e("div",{role:"none",ref:i=>this.groupContainer=i,class:"group-container dxp-col-lg-4 dxp-col-offset-lg-1"},e("dxp-nav-item-container",{role:"none"},e("div",{class:"dxp-scrollable-container",role:"none"},e("div",{class:"dxp-scrollable",role:"none"},e("ul",{role:"none",ref:i=>this.navGroupContainer=i},e("slot",null)))))),!this.child&&e("div",{ref:i=>this.groupContainer=i,class:"group-container dxp-col-lg-4 dxp-col-offset-lg-1",role:"none"},e("div",{class:"dxp-scrollable-container",role:"none"},e("div",{class:"dxp-scrollable",role:"none"},e("ul",{role:"none"},e("slot",{name:"group-content"})))))))}get element(){return a(this)}static get watchers(){return{child:["navGroupHandler"],quickLinks:["quickLinksHandler"]}}};l.style='@charset "UTF-8";li.dxp-nav-menu{background:none;padding:0}li.dxp-nav-menu>span,li.dxp-nav-menu>a{margin:0}li.dxp-nav-menu>span.nav-item.link-as-cta,li.dxp-nav-menu>a.nav-item.link-as-cta{border-radius:2rem;border:1px solid;text-decoration:none;padding:8px 20px}@media (max-width: 991px){li.dxp-nav-menu>span.nav-item.link-as-cta,li.dxp-nav-menu>a.nav-item.link-as-cta{height:45px;width:fit-content;margin-left:35px}}@media (max-width: 767px){li.dxp-nav-menu>span.nav-item.link-as-cta,li.dxp-nav-menu>a.nav-item.link-as-cta{margin-left:12px}}li.dxp-nav-menu .quick-links-container{line-height:0}li.dxp-nav-menu .sub-nav-child-container{display:none;flex-direction:column-reverse}li.dxp-nav-menu.in+li{padding-top:0}li.dxp-nav-menu .nav-item{margin:0;padding:0;height:1.5rem;display:block;width:100%;height:auto;position:relative;padding:0;cursor:pointer}li.dxp-nav-menu .nav-item::before{content:"";display:block;position:absolute}li.dxp-nav-menu .nav-menu-icon{position:absolute;top:0px;right:0px;height:100%;width:47px;display:flex;align-items:center;padding:0px;padding-left:16px;pointer-events:none}@media (min-width: 768px) and (max-width: 991px){li.dxp-nav-menu .nav-menu-icon{padding:0 60px}}@media (min-width: 992px){li.dxp-nav-menu{display:inline-block;padding:0}li.dxp-nav-menu .nav-item{padding:0 2.063rem 0 0.5rem}li.dxp-nav-menu:not(:first-of-type){margin-left:3.5rem}li.dxp-nav-menu .nav-menu-icon{padding-left:24px}li.dxp-nav-menu dxp-nav-item-content{display:block}li.dxp-nav-menu dxp-nav-item-content:not(:last-child){margin-bottom:2.2rem}li.dxp-nav-menu.in .nav-item:focus{border:0.0625rem solid transparent}li.dxp-nav-menu .nav-item:after{content:"";display:block;height:0.0625rem;width:calc(100% + 1.3125rem)}li.dxp-nav-menu .sub-nav-child-container{position:absolute;width:100%;left:0;display:none;margin-top:7.375rem;opacity:0;transition:opacity 0.3s;pointer-events:none}li.dxp-nav-menu .sub-nav-child-container.show{display:block}li.dxp-nav-menu .sub-nav-child-container.expanded{opacity:1;pointer-events:all}li.dxp-nav-menu .sub-nav-child-container .sub-nav-item{margin:0}li.dxp-nav-menu .sub-nav-container{margin-top:3.5rem}li.dxp-nav-menu .dxp-scrollable{max-height:calc(100vh - 11.3rem);}li.dxp-nav-menu .dxp-scrollable ul{margin-bottom:0}}@media screen and (min-width: 992px) and (min-width: 0\\0 ){li.dxp-nav-menu .dxp-scrollable{max-height:calc(100vh - 102px)}}@media (max-width: 991px){li.dxp-nav-menu .nav-item{padding:1.25rem 1rem}li.dxp-nav-menu.in .sub-nav-child-container{display:flex;padding-left:16px}li.dxp-nav-menu.in .sub-nav-container{padding-left:0}}@media (min-width: 768px) and (max-width: 991px){li.dxp-nav-menu.in .group-container,li.dxp-nav-menu.in .quick-links-container{padding-left:34px}li.dxp-nav-menu .nav-item{padding:1.25rem 2.5rem}}li.dxp-nav-menu[dir=rtl] .nav-item::before{right:auto;left:0}li.dxp-nav-menu[dir=rtl].in .nav-item::before{right:auto;left:0}li.dxp-nav-menu[dir=rtl] .nav-menu-icon{right:auto;left:0px;padding-left:0;padding-right:16px}@media (min-width: 992px){li.dxp-nav-menu[dir=rtl] .nav-item::before{right:auto;left:1.2rem}li.dxp-nav-menu[dir=rtl].in .nav-item::before{right:auto;left:1.2rem}li.dxp-nav-menu[dir=rtl] .nav-menu-icon{padding-right:24px}}@media (max-width: 991px){li.dxp-nav-menu[dir=rtl].in .sub-nav-child-container{display:flex;padding-right:16px}}@media (max-width: 767px){li.dxp-nav-menu[dir=rtl].in .sub-nav-child-container{padding-right:8px}}@media (min-width: 768px) and (max-width: 991px){li.dxp-nav-menu[dir=rtl] .nav-menu-icon{padding:0 60px}}';export{l as dxp_nav_menu}